	
	
	
		











		














			
		<!DOCTYPE html>
		<html lang="en">
		<head>

		<base href="https://www.softmouse.net:443/" />
		<!-- First Comment -->
		<!-- DO NOT ADD OR REMOVE ANYTHING BETWEEN THESE COMMENTS -->
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta http-equiv="CACHE-CONTROL" content="NO-CACHE,NO-STORE">
		<meta http-equiv="keywords" content="Iseehear SoftMouseDB - Transgenic Mouse Breeding Colony Management Database Software for mouse geneticists and researchers - Knock Out Mice, Stem Cell, Neuroscience, Cancer, Diabetes, Genomics, Softmouse">
		
		<!-- End First Comment -->
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Iseehear: SoftMouseDB Transgenic Mouse Breeding & Colony Management Database Software</title>
		
		<!-- Second Comment -->
		<!-- DO NOT ADD OR REMOVE ANYTHING BETWEEN THESE COMMENTS -->
		<link rel="shortcut icon" href="images/softmouse.ico" />
		<link rel="icon" type="image/png" href="images/softmouseicon.png" />
		
		 <link rel="manifest" href="manifest.json">
		<link rel="apple-touch-icon" href="images/favicons/apple-touch-icon-152x152.png">
		<!-- End Second Comment -->
		
		<link type="text/css" rel="stylesheet" href="css/jquery-ui-1.8.10.custom.css" />
		<link type="text/css" rel="stylesheet" href="css/ui.jqgrid.css" media="screen" />
		<link type="text/css" rel="stylesheet" href="css/ui.jqgrid.custom.css" media="screen" />
		<link type="text/css" rel="stylesheet" href="css/jquery.multiselect.css" media="screen" />
		<link type="text/css" rel="stylesheet" href="css/jquery.multiselect.filter.css" media="screen" />

		<link type="text/css" rel="stylesheet" href="css/default.css" />
		<link type="text/css" rel="stylesheet" href="css/buttons.css" />
		<link type="text/css" rel="stylesheet" href="css/menu.css" />
		<link type="text/css" rel="stylesheet" href="css/tips.css" />
		<link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700' rel='stylesheet' type='text/css'>


		<link type="text/css" rel="stylesheet" href="css/fontawesome/css/font-awesome.css" />
		<link type="text/css" rel="stylesheet" href="css/fontawesome/css/font-awesome-new.min.css" />
		<link type="text/css" rel="stylesheet" href="css/bootstrap-extension.css" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.main.min.css">
		<link rel="stylesheet" type="text/css" href="css/intro/introjs.css">
		<link rel="stylesheet" type="text/css" href="css/color/spectrum.css">

		<link rel="stylesheet" href="css/ambassador/css/custom.css" rel="stylesheet">
		<link rel="stylesheet" href="css/ambassador/css/animate.css" rel="stylesheet">
		<link rel="stylesheet" href="css/ambassador/css/responsive.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/timepicker.css">
		<!-- <link rel="stylesheet" href="js/gritter/css/jquery.gritter.css" /> -->
		
		<script src="js/jquery/jquery.js" type="text/javascript" ></script>
		<script src="js/jquery/ui/jquery-ui.js" type="text/javascript" ></script>
		<script src="js/jquery/ui/jquery.ui.position.js" type="text/javascript" ></script>
		<script src="js/jquery/plugins/validate/jquery.validate.js" type="text/javascript" ></script>
		<script src="js/jquery/plugins/jqgrid/i18n/grid.locale-en.js" type="text/javascript"></script>
		<script src="js/jquery/plugins/jqgrid/jquery.jqGrid.src.js" type="text/javascript"></script>



		<script type="text/javascript" src="js/jquery/plugins/jec/jquery.jec.js"></script>
		<script type="text/javascript" src="js/jquery/plugins/multiselect/jquery.multiselect.js"></script>
		<script type="text/javascript" src="js/jquery/plugins/multiselect/jquery.multiselect.filter.js"></script>
		
		<script type="text/javascript" src="js/moment/moment.min.js"></script>

		<script src="js/ish/extensions.js" type="text/javascript"></script>
		<script src="js/ish/ish.util.js" type="text/javascript"></script>
		<script src="js/ish/jquery.combobox.js" type="text/javascript"></script>
		<script src="js/ish/jquery.columnchooser.js" type="text/javascript"></script>
		<script src="js/ish/jquery.columnchooser2.js" type="text/javascript"></script>
		<script src="js/ish/jquery.columnchooser3.js" type="text/javascript"></script>
		<script src="js/ish/jquery.actionbox.js" type="text/javascript"></script>
		<script src="js/ish/jquery.propedit.js" type="text/javascript"></script>
		<script src="js/ish/jquery.propedit_strain.js" type="text/javascript"></script>
		<script src="js/ish/jquery.propedit_experiment.js" type="text/javascript"></script>
		<script src="js/ish/jquery.propedit_protocol_contact.js" type="text/javascript"></script>
		<script src="js/ish/jquery.propedit_study.js"></script>
		<script src="js/ish/jquery.propedit_noAdd.js"></script>
		<script src="js/ish/jquery.propedit_withColor.js"></script>
		<script src="js/ish/jquery.propedit_subtype.js"></script>

		<script src="js/accountsetting.js"></script>
		<script src="js/common.js"></script>
		<script src="js/js_clock.js"></script>
		<script src="js/checkbox.js"></script>
		<script src="js/countries2.js"></script>
		<script src="js/color/spectrum.js"></script>
		<!--<script src="js/gritter/js/jquery.gritter.min.js"></script>-->
		<script src="js/js-cookie/js.cookie.min.js"></script>
		<script src="js/accountSetting/renewalReminder.js"></script>
		

		<!-- The order here is important. -->
		<!-- <script src="js/ish/ish.serverinit.js.jsp" type="text/javascript"></script> -->
		

<script type="text/javascript"> 

if (!ISH) var ISH = {};

ISH.appContext = {};
ISH.appContext.contextPath = '';
ISH.appContext.debug = false;
ISH.appContext.accessUserId = 35882;
ISH.appContext.customerId = 16489;
ISH.appContext.userModuleAccessCtl = new Array(10);
ISH.appContext.userModuleAccessCtl[0] = -3;
ISH.appContext.userModuleAccessCtl[1] = -95;
ISH.appContext.userModuleAccessCtl[2] = -128;
ISH.appContext.userModuleAccessCtl[3] = 0;
ISH.appContext.userModuleAccessCtl[4] = 0;
ISH.appContext.userModuleAccessCtl[5] = 0;
ISH.appContext.userModuleAccessCtl[6] = 0;
ISH.appContext.userModuleAccessCtl[7] = 0;
ISH.appContext.userModuleAccessCtl[8] = 0;
ISH.appContext.userModuleAccessCtl[9] = 0;
ISH.appContext.userLevel = 2
//TODO add RapId on off here
ISH.appContext.isRapIdOn = false
ISH.appContext.labId = 16529
// protocol count by mouseline
ISH.appContext.protocolCountByMouseline = false
ISH.appContext.userAccountExpirationDays = 0
// if mouseline is mandatory for mouse record
ISH.appContext.mouselineMandatory = true
// if keyContact is mandatory for mouse/cage record
ISH.appContext.keyContactMandatory = false


ISH.pref = {};
ISH.pref.rowNum = 100;

ISH.pref.multiSort = 0;

// ISH.pref.dateFormat  mm-dd-yy
ISH.pref.dateFormat = 'mm-dd-yy';

// ISH.pref.dateFormat2  MM-dd-yyyy
ISH.pref.dateFormat2 = 'MM-dd-yyyy';
ISH.pref.sqlDateFormat = 'yy-mm-dd';

ISH.pref.datepicker = {};
ISH.pref.datepicker.firstDay = '' || 0;

ISH.pref.customDropdown = 0;

ISH.mouse = {};
ISH.mouse.defaultDaysToWean = 21;
ISH.mouse.minDaysToWean = 10; 
ISH.mouse.maxNewMice = 200;

ISH.genotype = {
    USAGE_CONTEXT_EDITABLE: 'EDITABLE',
    USAGE_CONTEXT_READONLY: 'READONLY'
};

ISH.mating = {};

ISH.litter = {};

ISH.strain = {
    USAGE_CONTEXT_DEFAULT: 'DEFAULT',
    USAGE_CONTEXT_FILTER: 'FILTER'
};

ISH.mouse.move = {};

ISH.cage = {
    USAGE_CONTEXT_DEFAULT: 'DEFAULT',
    USAGE_CONTEXT_CAGE_ASSIGN: 'CAGE_ASSIGN'
};

ISH.filter = {};

ISH.project = {};

ISH.experiment = {};

ISH.template = {};

ISH.variable = {};
ISH.selectVariable = {};

ISH.experimentmouse = {};

ISH.studymouse = {};

ISH.calendar = {};
ISH.calendar.record = {
    MOUSELINES: 0,
    MICE: 1,
	MATINGS: 2,
	LITTERS: 3,
	CAGES: 4,
	PROJECTS: 5,
	EXPERIMENTS: 6,
	PROTOCOLS: 7,
	REQUESTS: 8,
	NPROJECTS: 9,
	STUDIES:10,
	ORDER:11
};
ISH.pup = {};

ISH.isSMLegacyMode=false;
ISH.domain='softmouse.net';
ISH.httpProtocol='https';
ISH.recordsAPI= 'records';

ISH.scModuleMapping={"20":"health","21":"services","22":"training","23":"betaforms"};

</script>

		<script src="js/ish/ish.localization.js" type="text/javascript"></script>
		<!-- <script src="js/ish/localization/messages.js.jsp" type="text/javascript"></script> -->
		
		<script src="js/ish/localization/messages.js.jsp" type="text/javascript"></script>
		
		<script src="js/ish/defaults.js" type="text/javascript"></script>
		<script src="js/countdown.js" type="text/javascript"></script>
		<script src="js/jquery/ui/jquery.dialogOptions.js" type="text/javascript"></script>
		<script src="js/jquery/blockUI/jquery.blockUI.js" type="text/javascript"></script>
		<script>
		window.alert = function(message){
		$(document.createElement('div'))
		.attr({title: 'Message from SoftMouse.NET', 'class': 'alert'})
		.html(message)
		.dialog({
		buttons: {OK: function(){$(this).dialog('close');}},
		close: function(){$(this).remove();},
		draggable: true,
		modal: true,
		resizable: true,
		width: 600
		});
		};
		</script>

		<script src="js/jquery/jquery-1.10.2.js" ></script>

		<script>var mc$ = jQuery.noConflict();</script>
		<script src="js/bootstrap/bootstrap.js" type="text/javascript"></script>
		<script src="js/bootstrap/bootstrap-notify.js" type="text/javascript"></script>
		<script type="text/javascript" src="js/jquery/jquery.actual.js"></script>
		<script src="js/intro/intro.min.js" type="text/javascript"></script>

		<script src="js/statusbar/pace.min.js"></script>
    	<link rel="stylesheet" href="css/statusbar/pace-theme-default.min.css">
    	<link rel="stylesheet" href="css/statusbar/minimal.css">		
		<script>
		jQuery(document).ready(function() {
		$(window).scroll(function() {
		if ($(this).scrollTop() > 100) {
		$(".scrolltotop").fadeIn();
		} else {
		$(".scrolltotop").fadeOut();
		}
		});
		$(".scrolltotop").click(function() {
		$("html, body").animate({
		scrollTop : 0
		}, 700);
		return false
		});
		});
		</script>
		
<!-- Third Comment -->
<!-- DO NOT ADD OR REMOVE ANYTHING BETWEEN THESE COMMENTS -->
<!-- Google tag (gtag.js) --> 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FJ717QTPC3"></script> 
<script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-FJ717QTPC3'); </script>
<!-- End Third Comment -->


<style id="antiClickjack">
    body{display:none !important;}
/*     #quickFilter{
    	visibility: hidden !important;
    	display: none !important !important;
    } */
</style>
<script type="text/javascript">
    if (self === top) {
        var antiClickjack = document.getElementById("antiClickjack");
        antiClickjack.parentNode.removeChild(antiClickjack);
    } else {
        top.location = self.location;
    }
    mc$(function () {
    	  mc$('[data-toggle="tooltip"]').tooltip()
    	})
 
jQuery(document).ready(function($) {

    /* Prevent removing scroll when modal is open */

    $('#mypopup').on('show.bs.modal', function (e) {
        $('html').addClass('modal-open');
    })

    $('#mypopup').on('hide.bs.modal', function (e) {
        $('html').removeClass('modal-open');
    })

    /* $("#quickFilter").css("display", "none"); */
});
</script>
<style>
@media (min-width:992px){
.navbar-default .navbar-nav>li>a{color:#ffffff;}.navbar-default .navbar-nav>li>a:hover,.navbar-default .navbar-nav>li>a:focus{color:#ffffff;background-color:#65981e; border-top-right-radius: 5px; border-top-left-radius: 5px; height: 27px !important}
.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:hover,.navbar-default .navbar-nav>.active>a:focus{color:#000 !important;background-color:#fff !important; border-top-right-radius: 5px; border-top-left-radius: 5px; height: 27px !important}
}
</style>
</head>
<body bgcolor="#FFFFFF">

<!-- <style>
    #popup-container {
    display: block;
   }
   .tip-box {
       color: #000 !important;
       background: #d5efc2;
   }
   .note-box, .warning-box, .tip-box {
       /* padding: 80px 8px 3px 26px; */
   }
   a.button3 {
   display:inline-block;
       margin-bottom:0;
       font-weight:normal;
       text-align:center;
       vertical-align:middle;
       cursor:pointer !important;
       background-image:none;
       border:1px solid transparent;
       padding:6px 12px;
       margin-right:2px;
       font-size:14px;
       line-height:1.428571429;
       border-radius:4px;
       -webkit-user-select:none;
       -moz-user-select:none;
       -ms-user-select:none;
       -o-user-select:none;
       user-select:none;
       background: #fff;
       padding: 5px;
    
       text-decoration: none;
       color: initial;
   }
   #plus{
    content: "+";
    color: red !important;
   }
   .collapsible a{
    color: red !important;
   }
   .blink_me {
     animation: blinker 1s linear infinite;
   }
    
   @keyframes blinker {
     50% {
       opacity: 0;
     }
   }
   </style>
   <script src="js/cookie/jquery.cookie.js" type="text/javascript" ></script>
    
    
   <div id="popup-container" style="margin-bottom: -16px !important; ">
   <div id="popup-window" style="font-size: 16px !important;">
       <div class="alert alert-warning alert-dismissible tip-box" style="background: #ffe599 !important; font-size: 18px;">
          
          <center><div class="" style=" margin-top: -15px !important; padding-top: 2px !important;"> <span class="redfont  button large" style="cursor: pointer;  text-decoration: none;font-size: 16px !important;"><span class="redfont"><b> ATTENTION:</b> Scheduled upgrade 
            will begin tonight at
<b>10:00 PM EST on SoftMouse.NET (i.e. within the next 15 mins) for ~40 mins.</b>
<br>During this time, you might be automatically logged out. As such, we recommend logging out before the update and then reconnecting ~40 mins later.
<br>Thank you for your understanding!</span></span></div>
           </center>   
     
       </div>
   </div>
   </div> -->

<!-- this file is purposely blank in source -->
<!-- during inside message launch; the contents of this file will be replaced-->
<!-- by insidemsg_wrapper.jsp -->
<!-- the insidemsg text itself should come from insidemsg_content_text.jsp -->














<script src="js/confirmlogout.js"></script>
<script src="js/userSetting.js"></script>
<script type="text/javascript" src="js/smdb/protocol/ProtocolPermission.js"></script>
<!--  Sign Out Dialog-->

<script type="text/javascript">
	$(function() {
		$("#apps-selected-open img").click(function() {
			if ($('.modal').is(':visible')) {
				$(".modal").hide();
			}

		});
		// Dropdown toggle
		$('.dropdown-toggle').click(function() {
			$(this).next('.dropdown').toggle(400);
		});

		$(document).click(
				function(e) {
					var target = e.target;
					if (!$(target).is('.dropdown-toggle')
							&& !$(target).parents().is('.dropdown-toggle')) {
						$('.dropdown').hide();

					}
				});

	});
	$(function() {
		/* if (ISH.perdiemCustomerArr.indexOf(ISH.appContext.customerId) !== -1) {
			$("#perdiems").show();
		} */

		//currently only check these modules:
		//  ( 6, 'protocol', NULL, '/smdb/protocol/'),
		//	( 7, 'request', NULL, '/smdb/request/'),
		//	( 8, 'familyTree', NULL, '/smdb/tree/'),
		//	( 9, 'calendar', NULL, '/smdb/calendar/'),
		//	( 10, 'perDiem', NULL, '/perdiem/'),
		//	( 11, 'project', NULL, '/proj/project/');
		//protcol
		if ((ISH.appContext.userModuleAccessCtl[0] & 0x04) >> 2) {
			$("#protocols").show();
		} else {
			// $("#protocols").hide();
			//$("#protocols").css("pointer-events", "none");
			/*  $("#protocols").find("a").removeAttr("href"); */
			$("#protocols").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#protocols").attr("href", "javascript:disableMoudle()");
		}
		//request
		if ((ISH.appContext.userModuleAccessCtl[0] & 0x02) >> 1) {
			$("#requests").show();
			$('#requestTypeSubType').show();
		} else {
			//$("#requests").hide();
			/* $("#requests").find("a").removeAttr("href"); */
			$("#requests").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#requests").attr("href", "javascript:disableMoudle()");
		}
		//familyTree
		if ((ISH.appContext.userModuleAccessCtl[0] & 0x01)) {
			$("#treelink").show();
		} else {
			//$("#treelink").hide();
			$("#treelink").find("a").removeAttr("href");
			$("#treelink").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
		}
		//calendar
		if ((ISH.appContext.userModuleAccessCtl[1] & 0x80) >> 7) {
			//$("#perdiems").show();
		} else {
			//$("#perdiems").hide();
			$("#calendarMoudle").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#calendarMoudle").attr("href", "javascript:disableMoudle()");
		}
		//perdiems
		if ((ISH.appContext.userModuleAccessCtl[1] & 0x40) >> 6) {
			$("#perdiems").show();
		} else {
			//$("#perdiems").hide();
			/* $("#perdiems").find("a").removeAttr("href"); */
			$("#perdiems").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#perdiems").attr("href", "javascript:disableMoudle()");
		}
		//project
		if ((ISH.appContext.userModuleAccessCtl[1] & 0x20) >> 5) {
			//$("#perdiems").show();
		} else //study
		if ((ISH.appContext.userModuleAccessCtl[1] & 0x10) >> 4) {
			// $("#projectMoudle").attr("href","nproj/nproject/project/projectAction.do?reqCode=list");
		} else {
			$("#projectMoudle").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#projectMoudle").attr("href", "javascript:disableMoudle()");
		}

		//report
		if ((ISH.appContext.userModuleAccessCtl[1] & 0x08) >> 3) {
			// $("#reportModule").show();
		} else {
			$("#reports")
					.attr("title", ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#reports").attr("href", "javascript:disableMoudle()");
		}

		//Order
		if ((ISH.appContext.userModuleAccessCtl[1] & 0x02) >> 1) {
			$("#orders").show();
		} else {
			$("#orders").attr("title", ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#orders").attr("href", "javascript:disableMoudle()");
		}
		
		// owner billing association menu
		if (((ISH.appContext.userModuleAccessCtl[1] & 0x02) >> 1) && (ISH.appContext.userLevel == 1)) {
			$("#ownerBillingCode").show();
		}

		//DataImportTool
		if (ISH.appContext.userModuleAccessCtl[1] & 0x01) {
			$("#dataimporticonsmall").show();
		} else {
			$("#dataimporticonsmall").attr("title",
					ISH.L10n.messages["please.upgrade.unlock.this.feature"]);
			$("#dataimporticonsmall")
					.attr("href", "javascript:disableMoudle()");
		}

		getUserSetting('colony');

		/* ***********************************************************
		// mice , module seqNo =1
		if( ( ISH.appContext.userModuleAccessCtl[0] & 0x80 ) >> 7 ) {
		    $("#mice").show();
		}
		else {
		    $("#mice").hide();
		}
		// mouseline , module seqNo =2
		if( ( ISH.appContext.userModuleAccessCtl[0] & 0x40 ) >> 6 ) {
		    $("#mouseline").show();
		}
		else {
		    $("#mouseline").hide();
		}
		// cage , module seqNo =3
		if( ( ISH.appContext.userModuleAccessCtl[0] & 0x20 ) >> 5 ) {
		    $("#cage").show();
		}
		else {
		    $("#cage").hide();
		}
		// mating , module seqNo =4
		if( ( ISH.appContext.userModuleAccessCtl[0] & 0x10 ) >> 4 ) {
		    $("#matings").show();
		}
		else {
		    $("#matings").hide();
		} 
		 *********************************************************** */

		$("#mouselineGeneBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/mouselineGene.do?reqCode=gotoMouselineGenePage';
						});

		$("#geneAlleleBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/geneAllele.do?reqCode=gotoGeneAllelePage';
						});

		$("#mouselinestbt")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/mouselineStrain.do?reqCode=gotoMouselineStrainPage';
						});
		$("#mouselineprotocolBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/mouselineProtocol.do?reqCode=gotoMouselineProtocolPage';
						});
		$("#samplesAssociationBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/samplesAssociation.do?reqCode=gotoAssociation';
						});

		$("#mouselinegenotypeBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/mouselineGenotype.do?reqCode=gotoGenotypePage';
						});
		$("#ownerBillingCodeBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/ownerBillingCode.do?reqCode=gotoOwnerBillingCodePage';
						});
		$("#requestTypeSubTypeBtn")
				.click(
						function(event) {
							window.location = ISH.appContext.contextPath
									+ '/smdb/association/requestTypeSubType.do?reqCode=gotoRequestTypeSubTypePage';
						});

		$("#dialog").dialog("destroy");

		$("#dialog-form").dialog({
			autoOpen : false,
			height : 150,
			width : 350,
			modal : true,
			close : function() {
				//allFields.val('').removeClass('ui-state-error');

			}

		});

		$("#support-form").dialog({
			autoOpen : false,
			height : 400,
			width : 900,
			modal : true,
			close : function() {
				//allFields.val('').removeClass('ui-state-error');
			}

		});

		$("#incident-form").dialog({
			autoOpen : false,
			height : 480,
			width : 900,
			modal : true,
			close : function() {
				//allFields.val('').removeClass('ui-state-error');
			}

		});

		$("#suggestion-form").dialog({
			autoOpen : false,
			height : 530,
			width : 900,
			modal : true,
			close : function() {
				//allFields.val('').removeClass('ui-state-error');

			}

		});

		$('#signout').click(function() {
			$('#dialog-form').dialog('open');
			//window.open(path + "/logout.do", "_self");
		});

		$('#topmenu1').click(function() {
			$('#support-form').dialog('open');
		});

		$('#topmenu2').click(function() {
			$('#incident-form').dialog('open');
		});

		$('#topmenu3').click(function() {
			$('#suggestion-form').dialog('open');
		});
		$('#referfriends').click(function() {
			$('#ambassador-program-dialog').css("display", "block");
			$('.modal-backdrop').css("display", "block");
			mc$('#ambassador-program-dialog').modal({
				show : true
			});
			$('body').css("overflow-y", "hidden");

		});
		$('#popuprefer').click(function() {
			$('#ambassador-program-dialog').css("display", "block");
			$('.modal-backdrop').css("display", "block");
			mc$('#ambassador-program-dialog').modal({
				show : true
			});
			$('body').css("overflow-y", "hidden");

		});
		$('#learnmorepop').click(function() {
			$('#ambassador-program-dialog').css("display", "block");
			$('.modal-backdrop').css("display", "block");
			mc$('#ambassador-program-dialog').modal({
				show : true
			});
			$('body').css("overflow-y", "hidden");

		});
		$('#learnmorepop1').click(function() {
			$('#ambassador-program-dialog').css("display", "block");
			$('.modal-backdrop').css("display", "block");
			mc$('#ambassador-program-dialog').modal({
				show : true
			});
			$('body').css("overflow-y", "hidden");

		});
		$('#testimonial').click(function() {
			$('#ambassador-program-dialog1').css("display", "block");
			$('.modal-backdrop').css("display", "block");
			mc$('#ambassador-program-dialog1').modal({
				show : true
			});
			$('body').css("overflow-y", "hidden");

		});

		if (((ISH.appContext.userModuleAccessCtl[0] & 0x04) >> 2)
				&& ISH.protocolPermission.isProtocolAssignMenuVisible) {
			$("#mouselineprotocol").show();
		}
		if (!((ISH.appContext.userModuleAccessCtl[1] & 0x20) >> 5)
				&& ((ISH.appContext.userModuleAccessCtl[1] & 0x10) >> 4)) {
			$("#samplesAssociation").show();
		}

		if (ISH.protocolPermission.isProtocolsMenuVisible) {
			$("#protocols").show();
		}
		// getNotification2();
		/*remove toggle button, 2020/03/05*/
		/* var noticelistOn = sessionStorage.getItem("noticelistOn");
		console.log("========"+noticelistOn);
		if(noticelistOn==''){
		    noticelistOn='true'; 
		}
		if(noticelistOn=='true'){
			$("#toggle-button").attr("checked", true); 
			console.log("set checked");
			console.log($('#toggle-button').is(":checked"));
		}
		else {
		    $("#toggle-button").attr("checked", false);
		    console.log("set unchecked");
		} */
		//$('#toggle-button').trigger('click');  
		/* switchNotification(); */

	});

	//Close the dialog window when click outside the box
	// $(".ui-widget-overlay").live("click", function() {  $("#dialog-form").dialog("close"); } );
	//Close the dialog window when click the <label id="close">
	$('#close').live("click", function() {
		$("#dialog-form").dialog("close");
	});

	//Close the Support Desk Dialog when cancel in clicked
	$('#supportclose').live("click", function() {
		$("#support-form").dialog("close");
	});

	//Close the Incident Report Dialog when cancel in clicked
	$('#incidentclose').live("click", function() {
		$("#incident-form").dialog("close");
	});

	//Close the Suggestions  Dialog when cancel in clicked
	$('#suggestionclose').live("click", function() {
		$("#suggestion-form").dialog("close");
	});
</script>

<!--ACTIVE MENU: Underline the selected top menu-->
<script type="text/javascript">
	function active(id) {
		var current = document.getElementById(id);
		current.setAttribute("class", "active");
		return;
	}
</script>

<!--FUNCTION HIGHLIGHT: Underline the selected sub menu-->
<script type="text/javascript">
	function highlight(id) {
		var current = document.getElementById(id);
		current.classList.add("active");
		return;
	}
	function supportdeskajax(note1, note2, note3, supporttype, url, browser) {
		$.ajax({
			type : "get",
			url : 'customprop/supportdesk',
			data : "note1=" + encodeURIComponent(note1) + "&note2="
					+ encodeURIComponent(note2) + "&note3="
					+ encodeURIComponent(note3) + "&supporttype=" + supporttype
					+ "&url=" + url + "&browser=" + browser,
			dataType : "json",
			async : false,
			success : function() {
				alert("Your Support email has successfully been sent!");
			},
			error : function(xhr, ajaxOptions, thrownError) {
				if (xhr.status == 200 && xhr.statusText == 'parsererror') {
					window.location.reload();
				} else {
					alert(xhr.status + "," + xhr.statusText);
					alert(thrownError);
				}
			}
		});
		return true;
	}

	function getNotification() {
		$.ajax({
			type : 'GET',
			url : 'message/unreadmsglist?ownerId=-1',
			/* data : null, */
			async : false,
			/* dataType : 'json',
			contentType : 'application/json;charset=UTF-8', */
			success : function(result) {
				console.log(result);

				var noticelist = document.getElementById('noticelist');

				/*  if(result.indexOf('||')>-1){ */
				var messages = result.split('||');
				var i = 0;
				for (; i < messages.length; i++) {

					var str1 = messages[i].split('::');
					var msgid = str1[0];
					var str2 = str1[1].split('^^');
					//console.log("str2: "+str2);
					var msgtitle = str2[0];
					//console.log("msgtitle: "+msgtitle);
					var msgcontent = str2[1];
					//console.log("msgcontent: "+msgcontent);

					var msgli = document.createElement('li');
					msgli.className = 'free';
					/* msgli.style.color = 'rgb(255,0,0)'; */
					msgli.appendChild(document.createTextNode(msgtitle));
					noticelist.appendChild(msgli);
				}
				$('#newnoticenum').text(i);
				/*  } */

			},
			error : function(xhr, error, thrown) {
				console.log(xhr.status);
				console.log(error);
				console.log("dddddddd");
			}
		});
	}

	function getNotification2() {
		$.ajax({
			type : 'GET',
			url : 'message/unreadmsglist2?ownerId=-1',
			/* data : null, */
			async : false,
			dataType : 'json',
			contentType : 'application/json;charset=UTF-8',
			success : function(result) {
				console.log(result);

				var noticelist = document.getElementById('noticelist');

				/*  if(result.indexOf('||')>-1){ */
				var prevdate;
				var i = 0;
				for (; i < result.messages.length; i++) {
					var date1 = result.messages[i].title.split("|");
					var msgli = document.createElement('li');
					msgli.className = 'free';
					msgli.id = 'notice' + i;
					/* msgli.style.color = 'rgb(255,0,0)'; */
					var msga = document.createElement('a');
					msga.href = result.messages[i].targeturl;
					//console.log("result.messages[i]"+result.messages[i].title);

					if (prevdate != date1[1]) {
						var div1 = document.createElement('div');
						div1.setAttribute('class', 'datenotification');
						div1.appendChild(document.createTextNode(date1[1]));
						msgli.appendChild(div1);
						prevdate = "";
						prevdate = date1[1];
					} else {
						/* var div2 = document.createElement('div');
						div2.setAttribute( 'class', 'datenotification1' );
						//div1.appendChild( document.createTextNode(date1[1]) );
						msgli.appendChild(div2); */
					}
					var span = document.createElement('span');
					span.className = 'pull-right';
					span.className = 'timed';
					span.appendChild(document.createTextNode(date1[2]));
					msgli.appendChild(span);
					var br = document.createElement("br");
					//msga.appendChild(br);
					var intromsg = result.messages[i].content.split(":");

					for (var k = 0; k < intromsg.length; k++) {

						if (k == 0) {
							var span2 = document.createElement('span');
							span2.className = 'smallfontnotification';
							span2.appendChild(document
									.createTextNode(intromsg[0]));
							//msga.appendChild(br);
						} else {
							msga.appendChild(document
									.createTextNode(intromsg[k]));
						}

					}
					span2.appendChild(msga);
					//msga.appendChild(span2);
					//msgli.appendChild(msga);
					//console.log("result.messages[i].content"+result.messages[i].content);
					msgli.appendChild(span2);
					//console.log("result.messages[i].title: "+result.messages[i].title);

					if (date1[0].substring(0, 1) == "N") {
						msgli.style.fontWeight = 900;
						msgli.getElementsByTagName("a")[0].setAttribute(
								'class', 'bold');
					}
					noticelist.appendChild(msgli);

				}
				$('#newnoticenum').text(i);
				/*  } */

			},
			error : function(xhr, error, thrown) {
				console.log(xhr.status);
				console.log(error);
			}
		});
	}

	var groupBy = function(xs, key) {
		return xs.reduce(function(rv, x) {
			(rv[x[key]] = rv[x[key]] || []).push(x);
			return rv;
		}, {});
	};

	function switchNotification() {
		var on = $('#toggle-button').is(":checked");
		var listChilds = document.getElementById("noticelist").childNodes;
		if (on) {
			console.log("on 99999999");
			/* $('#noticeDetailList').show(); */
			for (i = 1; i < listChilds.length; i++) {
				$('#notice' + (i - 1)).show();
			}

		} else {
			console.log("off 99999999");
			/* $('#noticeDetailList').hide(); */
			for (i = 1; i < listChilds.length; i++) {
				$('#notice' + (i - 1)).hide();
			}

		}
		//noticelistOn = on;
		sessionStorage.setItem("noticelistOn", on);
	}

	function onSubmit(supportType) {

		//console.log("lol", supportType);

		var errMsg = "";
		var n2;
		if (supportType == "support") {
			errMsg = "Please fill in the box before clicking submit.";
		} else if (supportType == "incident") {
			errMsg = "Please fill in the description box before clicking submit.";
		} else if (supportType == "suggestion") {
			errMsg = "Please fill in the first box before clicking submit.";
		}
		// console.log("errMsg ", errMsg)
		if (supportType == "support") {
			if (document.supportDeskEditForm.note1[0].value == "") {
				alert(errMsg);
				return false;
			}
			document.supportDeskEditForm.supportType.value = supportType;
			document.supportDeskEditForm.browser.value = navigator.userAgent;
			document.supportDeskEditForm.url.value = window.location.href;
			//document.supportDeskEditForm.submit();
			console.log(document.supportDeskEditForm.note1[0].value);
			$("#support-form").dialog("close");
			return supportdeskajax(supportDeskEditForm.note1[0].value, "", "",
					supportDeskEditForm.supportType.value,
					supportDeskEditForm.url.value,
					supportDeskEditForm.browser.value);

		} else if (supportType == "incident") {
			if (document.incidentEditForm.note1[0].value == "") {
				alert(errMsg);
				return false;
			}
			if (document.incidentEditForm.note2[0].value != "") {
				n2 = incidentEditForm.note2[0].value;
			} else {
				n2 = "";
			}

			document.incidentEditForm.supportType.value = supportType;
			document.incidentEditForm.browser.value = navigator.userAgent;
			document.incidentEditForm.url.value = window.location.href;
			//document.incidentEditForm.submit();
			$("#incident-form").dialog("close");
			return supportdeskajax(incidentEditForm.note1[0].value, n2, "",
					incidentEditForm.supportType.value,
					incidentEditForm.url.value, incidentEditForm.browser.value);

		} else if (supportType == "suggestion") {
			if (document.suggestionEditForm.note1[0].value == "") {
				alert(errMsg);
				return false;
			}
			document.suggestionEditForm.supportType.value = supportType;
			document.suggestionEditForm.browser.value = navigator.userAgent;
			document.suggestionEditForm.url.value = window.location.href;
			//		document.suggestionEditForm.submit();
			$("#suggestion-form").dialog("close");
			return supportdeskajax(suggestionEditForm.note1[0].value,
					suggestionEditForm.note2[0].value,
					suggestionEditForm.note3.value,
					suggestionEditForm.supportType.value,
					suggestionEditForm.url.value,
					suggestionEditForm.browser.value);
		}
	}
	function exportAllData() {
		window.open(
				ISH.appContext.contextPath + "/smdb/mouse/exportAllData.do",
				"newwin");
	}

	function disableMoudle() {
		$
				.blockUI({
					message : ISH.L10n.messages["module.not.available.current.subscription"],
					css : {
						cursor : 'help',
						color : '#fff',
						backgroundColor : '#000',
						filter : 'alpha(opacity=50)',
						width : '470px',
						margin : '-120px auto'
					}
				});
		setTimeout($.unblockUI, 2000);
		/* return false; */
	}
</script>
<link type="text/css" rel="stylesheet" href="/css/bootstrap/bootstrap.SMDBHeaderMenu.min.css" />


<!-- Header bootstrap S-->

<div class="header" style="position: relative; z-index: 1010;">
	<div class="container">

		<div id="logo" class="col-lg-2 col-md-2 col-sm-2 col-xs-3 hidden-xs visible-md visible-sm visible-lg" style="padding: 5px 0px;">
			<img src="images/softmouse-colony-management-software-and-database-logo-0003.png">
		</div>
		<div id="topmenu" class="col-lg-3 col-md-3 col-sm-3 hidden-xs visible-md hidden-sm visible-lg"></div>
		<div class="col-xs-12 col-lg-6 col-md-6 col-sm-6 pull-right pulli" style="padding: 0px;">

			<!-- Split button -->
			<div class="btn-group inline" style="float: right; z-index: 1000; outline: none !important; background: transparent !important;">
				<div class="btn btn-sm xs-padding xs-padding hidden-xs heart" style="margin-top: 10px;">
					<a class="popover-dismiss" data-toggle="popover" id="popuprefer" data-trigger="focus" title="Love SoftMouse?" data-content=""><i class="fa fa-heart" aria-hidden="true" style="color: red; font-size: 18px; margin: 5px 20px;"></i></a>
				</div>


				<div class="btn btn-sm xs-padding" style="margin-top: 10px;" data-toggle="tooltip" data-placement="left" data-html="true" title="<b style='font-size: 14px !important;'>SoftMouse.NET Modules</b>" data-delay='{"show":"700", "hide":"700"}'>
					<a data-toggle="modal" id="apps-selected-open" href="#apps-selected-dialog"><img src="css/fontawesome/css/icons/apps-black-48dp.svg" width="35"></a>
				</div>

				<div class="btn btn-sm xs-padding">
					<button type="button" class="btn dropdown-toggle visible-lg  hidden-md hidden-sm hidden-xs" data-toggle="dropdown" style="background: none; outline: none; -webkit-box-shadow: none; box-shadow: none;">
						<img src="images/MM_settings.png" style="margin-top: 5px; height: 31px;">
					</button>
					<button type="button" style="background: transparent !important;" class="btn dropdown-toggle hidden-lg" data-toggle="dropdown">
						<img src="images/MM_settings.png" width="45">
					</button>

					<ul class="dropdown-menu pull-right" role="menu" style="z-index: 99999999">
						<li class="adminbackground"><a class="cursor textdecoration" href="HomePage.do"><span class="whitefont"><i class="icon-home icon-gray brandheight"></i>Administration</a></span></li>
						<li class="divider"></li>
						<li><a class="cursor textdecoration" accesskey="1" id="topmenu1"><i class="icon-search"></i> &nbsp;&nbsp;Support Desk</a></li>
						<li><a class="cursor textdecoration" accesskey="2" id="topmenu2"><i class="icon-file"></i> &nbsp;&nbsp;Incident Report</a></li>
						<li><a class="cursor textdecoration" accesskey="3" id="topmenu3"><i class="icon-comment-alt"></i> &nbsp;&nbsp;Suggestions</a></li>

						<li class="divider"></li>
						<li><a class="cursor textdecoration" href="http://www.softmousefaq.com" target="_blank"><i class="fa fa-graduation-cap blackfont"></i> &nbsp;&nbsp;SoftMouse FAQ</a></li>
						<li><a class="cursor textdecoration" href="https://softmousetraining.com/webinars" target="_blank"><img src="images/vector-webinar-logo-0001.png"> &nbsp;Webinars</a></li>
						<li><a class="cursor textdecoration" href="softmouse-colony-software-tips.jsp" target="_blank"><img src="images/tips/softmouse-tip.png" style="height: 20px;"> &nbsp;Tips</a></li>
						<li class="divider"></li>
						<li class="heart"><a class="cursor textdecoration" data-toggle="modal" id="referfriends" href="#ambassador-program-dialog"><i class="fa fa-heart" style="color: red !important;"></i> Refer-your-Friends</a></li>
						<li><a class="cursor textdecoration" data-toggle="modal" id="testimonial" href="#ambassador-program-dialog1"><i style="color: green !important;"><img src="images/testimonial.png"></i> Write a Testimonial</a></li>
						<li class="divider"></li>
						<li><a class="cursor textdecoration" href="softmouse-mouse-colony-management-software-database-lims-contacts.jsp#headoffice" target="_blank"><span style="display: block;"><i class="icon-phone"></i> +1 416 492 4358 <span class="smallfont">(Toronto, Worldwide)</span></span> <span style="display: block;"><i class="icon-phone"></i> 1 844 559 6322 <span class="smallfont">(Toll Free)</span></span></a></li>
						<li class="divider"></li>
						<li class="signoutbackground"><a class="cursor textdecoration" id="signout"><span class="whitefont"><i class="icon icon-lock"></i> &nbsp;&nbsp;Sign Out</span></a></li>
					</ul>
				</div>
			</div>

		</div>

	</div>
</div>


<div style="background: #fff; display: none" id="dialog-form" title="Message from SoftMouse.NET">
	<table>
		<tr align="center">
			<td colspan="3"><br> <span class="alert">Are you sure you want to sign out?</span></td>
		</tr>
		<tr>
			<td colspan="3"><br /></td>
		</tr>
		<tr align="right">
			<td width="180px"></td>
			<td valign="bottom"><label id="close" class="button medium red">No</label></td>
			<td valign="bottom"><label onclick="javascript:confirmLogout('')" class="button medium green">Yes</label></td>
		</tr>
	</table>
</div>

<!-- Header bootstrap E -->



	<div style="display: none" id="support-form" title="Support Desk">

		<form name="supportDeskEditForm" method="post" action="/smdb/supportdeskedit.do">



			<fieldset>
				<table width="100%" class="darkbluefont mediumfont">

					<tr>
						<td><span style="color: red;">*</span> The Support Inquiry Form: Please fill in the box below. The more information that you provide to us, the better we will be able to serve you and address your request and or question.</td>
					</tr>
					<tr>
						<td><textarea name="note1" rows="4" style="width:80%; height: 10em !important;" class="input-lg"></textarea></td>
					</tr>
					<tr>
						<td><br> <label id="supportclose" class="button small red">Cancel</label> <label onclick="javascript:onSubmit('support');" class="button small green bold">Submit</label></td>
					</tr>
					<tr>
						<td style="color: #000 !important;"><br> <br> <i class="icon-envelope-alt"></i> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dfacaaafafb0adab9f8cb0b9ab92b0aaacbaf1919a8b">[email&#160;protected]</a><br> <i class="icon-phone"></i> <b>Phone:</b> +1 416 492 4358 <span class="smallfont">(Toronto, Worldwide)</span><br> <i class="icon-phone"></i> <b>Toll Free:</b> 1 844 559 6322 <span class="smallfont">(United States & Canada)</span></td>
					</tr>

				</table>
			</fieldset>


			<input type="hidden" name="url" value="">
			<input type="hidden" name="browser" value="">
			<input type="hidden" name="supportType" value="">
			<input type="hidden" name="note1" value="">
			<input type="hidden" name="note2" value="">
			<input type="hidden" name="note3" value="">

		</form>
	</div>

	<div style="display: none" id="incident-form" title="Incident Report">
		<form name="incidentEditForm" method="post" action="/smdb/incidentedit.do">

			<fieldset>
				<table width="100%" class="darkbluefont mediumfont">

					<tr>
						<td><span style="color: red;">*</span> Can you please describe the issue including your steps prior to seeing the issue?</td>
					</tr>
					<tr>
						<td><textarea name="note1" rows="4" style="width:80%; height: 8em !important" class="input-lg"></textarea></td>
					</tr>
					<tr>
						<td>Any additional comments to add?</td>
					</tr>
					<tr>
						<td><textarea name="note2" rows="4" style="width:80%; height: 8em !important" class="input-lg"></textarea></td>
					</tr>
					<tr>
						<td><label id="incidentclose" class="button small red">Cancel</label> <label onclick="javascript:onSubmit('incident');" class="button small green bold">Submit</label></td>
					</tr>
					<tr>
						<td style="color: #000 !important;"><br> <br> <i class="icon-envelope-alt"></i> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d1a2a4a1a1bea3a59182beb7a59cbea4a2b4ff9f9485">[email&#160;protected]</a><br> <i class="icon-phone"></i> <b>Phone:</b> +1 416 492 4358 <span class="smallfont">(Toronto, Worldwide)</span><br> <i class="icon-phone"></i> <b>Toll Free:</b> 1 844 559 6322 <span class="smallfont">(United States & Canada)</span></td>
					</tr>

				</table>
			</fieldset>
			<input type="hidden" name="note3" value=" ">
			<input type="hidden" name="url" value="">
			<input type="hidden" name="browser" value="">
			<input type="hidden" name="supportType" value="">
			<input type="hidden" name="note1" value="">
			<input type="hidden" name="note2" value="">
			<input type="hidden" name="note3" value="">
		</form>
	</div>

	<div style="display: none" id="suggestion-form" title="Suggestions">
		<form name="suggestionEditForm" method="post" action="/smdb/suggestionedit.do">

			<fieldset>
				<table width="100%" class="darkbluefont mediumfont">

					<tr>
						<td><span style="color: red;">*</span> Please list features that you would like to see added to SoftMouse!</td>
					</tr>
					<tr>
						<td><textarea name="note1" rows="4" style="width:80%; height: 10em !important" class="input-lg"></textarea></td>
					</tr>
					<tr>
						<td>Do you have any specific comments or suggestions on how to increase the usefulness and usability of SoftMouse? </td>
					</tr>
					<tr>
						<td><textarea name="note2" rows="4" style="width:80%; height: 10em !important" class="input-lg"></textarea></td>
					</tr>
					<tr>
						<td><label id="suggestionclose" class="button small red">Cancel</label> <label onclick="javascript:onSubmit('suggestion');" class="button small green bold">Submit</label></td>
					</tr>
					<tr>
						<td style="color: #000 !important;"><br> <br> <i class="icon-envelope-alt"></i> <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2c5f595c5c435e586c7f434a586143595f4902626978">[email&#160;protected]</a><br> <i class="icon-phone"></i> <b>Phone:</b> +1 416 492 4358 <span class="smallfont">(Toronto, Worldwide)</span><br> <i class="icon-phone"></i> <b>Toll Free:</b> 1 844 559 6322 <span class="smallfont">(United States & Canada)</span></td>
					</tr>

				</table>
			</fieldset>
			<input type="hidden" name="url" value="">
			<input type="hidden" name="browser" value="">
			<input type="hidden" name="supportType" value="">
			<input type="hidden" name="note1" value="">
			<input type="hidden" name="note2" value="">
			<input type="hidden" name="note3" value="">
		</form>
	</div>


<nav class="navbar navbar-default" role="navigation" style="z-index: 1000; border-bottom: 1px solid #fff !important;">
	<div class="container">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header" data-toggle="collapse" data-target=".navbar-ex1-collapse">
			<button type="button" style="height: 25px; margin-top: 0px;" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
				<span class="sr-only">Toggle navigation</span> <span style="margin-top: -4px" class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
			</button>

		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse navbar-ex1-collapse mleft-60">
			<ul class="nav navbar-nav" data-step="1" data-intro="Use the blue top Menu to navigate through your virtual colony.">
				<li id="home"><a class="textdecoration" href="HomePage.do"><i class="icon-home icon-gray brandheight"></i></a></li>

				<li id="mouseline"><a href="smdb/mouseline/list.do?reqCode=gotoMouselinelist" class="line textdecoration">Strains</a></li>


				<li id=mice><a href="smdb/mouse/list.do" class="textdecoration">Animals</a></li>

				<li id=matings><a href="smdb/mating/list.do?reqCode=gotoMatingList" class="textdecoration">Matings</a></li>

				<li id=litters><a href="smdb/litter/list.do" class="textdecoration">Litters</a></li>

				<li id="cage"><a href="smdb/cage/list.do" class="line textdecoration">Cages</a></li>

				<li id="treelink" class="free"><a href="smdb/tree/treeform.do?method=initForm" class="line textdecoration">Family Tree</a></li>

				<li><a href="smdb/tree/treeform.do?method=initForm" id="familytreeicon" class="dropdown-toggle drdcolors"><img src="css/fontawesome/css/icons/association.png" style="height: 14px !important;"></a></li>
				
				<!-- first comment -->
				<li><a href="/dataImportTool" id="dataimporticon" class="dropdown-toggle drdcolors"><img src="css/fontawesome/css/icons/Dataimportheaderlogo.png" style="height: 14px !important;"></a></li>
<!-- end first comment -->
				

			</ul>


			<div class="nav navbar-nav navbar-right">
				<li><a href="smdb/tree/treeform.do?method=initForm" id="familytreeiconsmall" class="dropdown-toggle drdcolors"><img src="css/fontawesome/css/icons/association.png" style="height: 14px !important;"></a></li>
			<!-- second comment -->
				<li><a href="/dataImportTool" id="dataimporticonsmall" class="dropdown-toggle drdcolors"><img src="css/fontawesome/css/icons/Dataimportheaderlogo.png" style="height: 14px !important;"></a></li>
			<!-- end second comment -->
				<li><a id="mouselinege1small" class="dropdown-toggle drdcolors" data-toggle="dropdown"><img src="css/fontawesome/css/icons/association.png" style="height: 14px !important;"></a>
					<ul class="dropdown pull-right" role="menu" style="z-index: 999999999999999999 !important;">
						<li class="adminbackground2 free"><span class="whitefont largefont" style="padding: 15px !important">Associations</span></li>
						<li id="mouselinege" class="free"><a id="mouselineGeneBtn" href="javascript:void(0)" class="textdecoration">Strain - Gene</a></li>
						<li id="gealle" class="free"><a id="geneAlleleBtn" href="javascript:void(0)" class="textdecoration">Gene - Allele</a></li>
						<li id="mouselinegenotype" class="free"><a id="mouselinegenotypeBtn" href="javascript:void(0)" class="textdecoration">Strain - Default Genotype</a></li>
						<li id="mouselinestbt"><a id="mouselinestrainBtn" href="javascript:void(0)" class="textdecoration">Strain - Background</a></li>
						<li id="mouselineprotocol" style="display: none"><a id="mouselineprotocolBtn" href="javascript:void(0)" class="textdecoration">Strain - Protocol</a></li>
						<li id="ownerBillingCode" style="display: none"><a id="ownerBillingCodeBtn" href="javascript:void(0)" class="textdecoration">Owner - Billing Code</a></li>
						
					</ul></li>
				<li><a id="mouselinege1" class="dropdown-toggle drdcolors" data-toggle="dropdown"><img src="css/fontawesome/css/icons/association.png" style="height: 14px !important;"></a>
					<ul class="dropdown pull-right" role="menu" style="z-index: 999999999999999999 !important;">
						<li class="adminbackground2 free"><span class="whitefont largefont" style="padding: 15px !important">Associations</span></li>
						<li id="mouselinege" class="free"><a id="mouselineGeneBtn" href="javascript:void(0)" class="textdecoration">Strain - Gene</a></li>
						<li id="gealle" class="free"><a id="geneAlleleBtn" href="javascript:void(0)" class="textdecoration">Gene - Allele</a></li>
						<li id="mouselinegenotype" class="free"><a id="mouselinegenotypeBtn" href="javascript:void(0)" class="textdecoration">Strain - Default Genotype</a></li>
						<li id="mouselinestbt"><a id="mouselinestrainBtn" href="javascript:void(0)" class="textdecoration">Strain - Background</a></li>
						<li id="mouselineprotocol" style="display: none"><a id="mouselineprotocolBtn" href="javascript:void(0)" class="textdecoration">Strain - Protocol</a></li>
						<li id="ownerBillingCode" style="display: none"><a id="ownerBillingCodeBtn" href="javascript:void(0)" class="textdecoration">Owner - Billing Code</a></li>
						<li id="requestTypeSubType" style="display: none"><a id="requestTypeSubTypeBtn" href="javascript:void(0)" class="textdecoration">Request Type - Subtype</a></li>
					</ul></li>
				<li><a id="account" class="dropdown-toggle drdcolors" data-toggle="dropdown"><i class="fa fa-user icon-gray" style="margin-top: -2px !important;" aria-hidden="true"></i></a>
					<ul class="dropdown pull-right" role="menu" style="z-index: 999999999999999999 !important;">
						<li class="adminbackground2"><span class="whitefont largefont" style="padding: 15px !important">Settings</span></li>
						<li class=""><a href="myProfile.do?reqCode=edit" class="line textdecoration">Profile</a></li>
						<li class=""><a href="userPreferenceSetting.do?reqCode=editUserPreference" class="line textdecoration">Preferences</a></li>
						
						

						
					</ul></li>
			</div>

		</div>
	</div>
</nav>

<!-- Tour Modal End -->
<!-- Modal for save column order -->
<div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document" style="width: 300px !important; overflow: hidden; padding: 5px !important;">
		<div class="modal-content">
			<div class="modal-body">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h5>Your column order has been saved!</h5>
			</div>

		</div>
	</div>
</div>


	
	
	
	
	
	
	
		
	

<!-- Modal for apps button Start -->
<div class="modal modal1 apps-wide" id="apps-selected-dialog" style="box-shadow: transparent !important;">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-body modal-body1" style="overflow-y: auto;" align="center">

				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="smdb/mouse/list.do"><img src="images/modules/colony.png" width="65"><span>Colony</span></a>
				</div>
				
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="proj/project/projectAction.do?reqCode=list" class="freecal " id="projectMoudle"><img src="images/modules/projects.png" width="65"><span>Projects</span></a>
				</div>
				
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="smdb/calendar/calendarAction.do?reqCode=loadBaseCalendar" class="freecal" id="calendarMoudle"><img src="images/modules/calendar.png" width="65"><span>Calendar</span></a>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="smdb/protocol/action.do?reqCode=list" class="freecal " id="protocols"><img src="images/modules/protocol.png" width="65"><span>Protocols</span></a>
				</div>

				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="smdb/request/action.do?reqCode=list" class="freecal " id="requests"><img src="images/modules/requests.png" width="65"><span>Requests</span></a>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="perdiem/analytics" class="freecal " id="perdiems"><img src="images/modules/perdiem.png" width="65"><span style="white-space: nowrap;">Per Diems</span></a>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="smdb/report/list.do?reqCode=goToReportList" class="freecal " id="reports"><img src="images/modules/reports.png" width="65"><span style="white-space: nowrap;">Reports</span></a>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="smdb/order/action.do?reqCode=list" class="freecal " id="orders"><img src="images/modules/order.png" width="65"><span style="white-space: nowrap;">Orders</span></a>
				</div>
				<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6">
					<a href="HomePage.do" class="freecal " id="homepage"><img src="images/modules/home.png" width="65"><span style="white-space: nowrap;">Homepage</span></a>
				</div>
					
					

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript" src="js/check-module.js"></script>
<style>
/* local styles to make the dynamic sc modules line up as closely to the existing 3x3 grid as possible */
.sc-module-tile > a > img {
    width: 65px;
    overflow: hidden;
}
.sc-module-tile > a > span {
    white-space: nowrap;
    overflow: hidden;
}

</style>
<script type="text/javascript"> 
// this function will put the module links in the inclusion spot
// by direct replacing the containing script tag (i.e starting at the 
// <script> open tag right above)
(function () {

let html = "";
for (var seq in ISH.scModuleMapping ) {

    // Convert key to number and check permission
    if (checkModule(Number(seq))) {
        var label = ISH.scModuleMapping[seq];
        var displayLabel =  label.charAt(0).toUpperCase() + label.substring(1);   // capitalize first
        html += 
        '<div class="col-lg-4 col-md-4 col-sm-4 col-xs-6 sc-module-tile">' +
            '<a href="' + ISH.httpProtocol + '://' + label + '.' + ISH.domain + '" id="scmodulelink' + seq + '">' +
                '<img src="images/modules/streamcell/module-icon-' + seq + '.png" alt="' + label + '"/>' +
                '<span>' + displayLabel + '</span>' +
            '</a>' +
        '</div>';

    }
}

// Replace the script tag itself with the generated markup.
// This "surgical" replacement makes the output appear exactly where the
// jsp:include was originally located without wrapping it in an extra container.
document.currentScript.outerHTML = html;
})();

</script>

				
			</div>

		</div>
	</div>

</div>
<!-- Modal for apps button End -->

<div class="container">














<div id="messageBox" class="messageBox" style="display:none">
    <!-- Hide this element to prevent it from taking up a narrow space on the page 
    	 when no message is presented.
    	 
    	 This element is intended to be targeted by jQuery/validate for displaying 
    	 error messages. -->
    <ul></ul> 
</div>

<!-- Struts errors could not be positioned inside the message box used by jQuery/validate
     as the plugin initially hides the message box, potentially hiding the Struts errors 
     if positioned inside the box. 
     
     Also enclosing the Struts messages in its own DIV and styled by the same class.
     -->
<div class="messageBox">
	
</div>

</div>

























<link rel="stylesheet" href="smdb/calendar/codebase/dhtmlxscheduler.css" type="text/css">

<script src="smdb/calendar/codebase/dhtmlxscheduler.js"></script>
<script src="smdb/calendar/codebase/ext/dhtmlxscheduler_minical.js"></script>
<script src="smdb/calendar/codebase/ext/dhtmlxscheduler_readonly.js" type="text/javascript" charset="utf-8"></script>
<script src="smdb/calendar/codebase/ext/dhtmlxscheduler_recurring.js" type="text/javascript" charset="utf-8"></script>

<script src="smdb/calendar/baseCalendar.js"></script>

<script src="js/smdb/protocol/ProtocolPermissionCheck.js"></script>

<style type="text/css" media="screen">
	/*
	body {line-height:normal;}
	*/
	
	.reset-line-height {line-height:normal;}
	
	.reset-box-sizing,
	.reset-box-sizing *,
	.reset-box-sizing *:before,
	.reset-box-sizing *:after {
	  -webkit-box-sizing: content-box;
	     -moz-box-sizing: content-box;
	          box-sizing: content-box;
	}

	.dhx_calendar_click {
		background-color: #C2D5FC !important;
	}
	.dhx_cal_container.dhx_mini_calendar .dhx_calendar_click {
	    color:red;
	}
	.dhx_menu_icon.icon_add_record {
  		background-image: url('/smdb/calendar/codebase/imgs/export_ical.png');
	}
	.dhx_menu_icon.icon_goto_calendar {
  		background-image: url('/smdb/calendar/codebase/imgs/calendar.gif');
	}
	
	.dhtmlx_message_area {
		left:50%;
		margin-left:-125px;
		z-index:9999;	
    }
	
	.done {text-decoration:line-through;}
	
	div.dhx_menu_head{
		background-image:none !important;
	}
	
	textarea.dhx_cal_editor {
		font-style: italic;
	}

</style>

<script type="text/javascript">
	
$(function() {

});

var LoadCalendar = (function(){
    function LoadCalendar() {
        initCalendar();
    }
    var instance;
    return {
        getInstance: function(){
            if (instance == null) {
                instance = new LoadCalendar();
                instance.constructor = null;
            } else {
            	reloadCalendar();
            }
            return instance;
        }
   };
})();


var s;
var linkedRecordType;
var dp;

function addRecordsToEvent(recordTable, recordType) {
	linkedRecordType = recordType;
	if(recordTable == "matinglist_table"){
    	s = global_selectedGroupMatingRowIds;
    }if(recordTable == "mouseTable"){
    		s = global_selectedGroupMiceRowIds;
    	
    }if(recordTable == "cage_table"){
    	if(global_selectedGroupMiceRowIds!== undefined){
			s = global_selectedGroupMiceRowIds;
    	}
	}if(recordTable == "litter_table"){
		s = global_ids;
	}if(recordTable == "mouseline_table"){
		s = global_selectedGroupMouselineRowIds;
	}else if(recordTable != "matinglist_table" && recordTable != "mouseTable" && recordTable != "cage_table" && recordTable != "litter_table" && recordTable != "mouseline_table"){
		s = $('#' + recordTable).jqGrid('getGridParam','selarrrow');
    }
	//treat specially for mating list as it doesn't return mating ids
/* 	if (recordType === ISH.calendar.record.MATINGS) {
		var matingIds = [];
		for (var i = 0; i < s.length; i++) {
			row = $('#' + recordTable).jqGrid('getRowData', s[i]);
			matingIds[i] = row.matingId;
		}
		s = matingIds;
	} */
	
	if (s.length == 0) {
		alert ($('<div/>').html($T('select.alert')).text());
		$(event.target).attr('checked', false).button("refresh");
		return;
	} else {
	    var canContinue = true;

	    if(recordTable === 'protocolTable') {
			canContinue = ProtocolPermissionCheck.checkEditPermission(s);
	   	}
		
		if(!canContinue) {
			return;
		}
		
        $('#add-records-to-event-dialog').dialog({
        	autoOpen: true, 
        	height: 550, 
        	width: 1000, 
        	modal: true,
			close: function() {
		        $("body").removeClass("reset-line-height");
        	}
        });
		LoadCalendar.getInstance();
        //reset box-sizing as this conflicts with bootstrap
        $("*[class^='dhx']").addClass("reset-box-sizing");
        $("body").addClass("reset-line-height");
		//refresh the view on the dialog
		scheduler.setCurrentView(scheduler._date, scheduler._mode);
	}
    
}

function loadCalendar() {
	var url = "" + "/smdb/calendar/calendarAction.do?reqCode=eventSelection";
	url += "&owner=" + $('#ownerId').val();
	scheduler.load(url, "json");
	dp = new dataProcessor(url);
	dp.init(scheduler);
	dp.setTransactionMode("POST", false);
	
}

function reloadCalendar() {
	scheduler.clearAll();
	loadCalendar();
}

function initCalendar() {
	scheduler.config.serverLists = {};
	scheduler.config.auto_end_date = true;
	scheduler.config.full_day = true;
	scheduler.config.scroll_hour = 8;
	scheduler.config.event_duration = 60;
	scheduler.config.wide_form = true;
	scheduler.config.show_loading = true;
	//scheduler.config.xml_date = "%d/%m/%Y %H:%i";
	
	scheduler.config.scroll_hour = new Date().getHours();
	scheduler.config.mark_now = true;
	//scheduler.config.max_month_events = 5;
	scheduler.config.left_border = true;
	//scheduler.config.multi_day = true;
	//scheduler.config.multi_day_height_limit = 100;
	
	//scheduler.config.first_hour = 6;
	scheduler.config.repeat_precise = true;

	scheduler.attachEvent("onEventAdded", function(id,ev){
		dp.setUpdated(id,false);
		return true;
	});

	//this should be called before scheduler.init()
	scheduler.attachEvent("onTemplatesReady", function() {
	    scheduler.templates.event_header = function(start, end, event){
	        if (event.done == true){
	            return "<img src='images/iseehear_checkmark.png'/> <b style='color:#F08080'>" +
	            		scheduler.templates.event_date(start) + " - " + scheduler.templates.event_date(end) + "</b>";
	        } else {
	            return scheduler.templates.event_date(start) + " - " + scheduler.templates.event_date(end);
	        }
	    };
	    scheduler.templates.event_text=function(start, end, event){
	        if (event.done == true){
		        return "<span class='done'>" + event.text + "</span>";
	        } else {
	        	return event.text;
	        }
	    };
	}); 
	
	scheduler.init('scheduler_here',new Date());
	scheduler.config.prevent_cache = true;
	//scheduler.config.dblclick_create = false;

	loadCalendar();
	
	calendar = scheduler.renderCalendar({
		container:"cal_here", 
		navigation:true,
		handler:function(date){
			scheduler.setCurrentView(date, scheduler._mode);
		}
	});
	scheduler.linkCalendar(calendar);
	scheduler.setCurrentView(scheduler._date, scheduler._mode);
	
	
	scheduler.config.icons_edit = ["icon_goto_calendar", "icon_cancel"];
	scheduler.config.icons_select = ["icon_add_record", "icon_goto_calendar"];
	scheduler.locale.labels.icon_add_record = $T("calendar.selectEvent.ttip.icon_add_record");
	scheduler.locale.labels.icon_goto_calendar = $T("calendar.selectEvent.ttip.icon_goto_calendar");

	scheduler.attachEvent("onClick", function(id){
		if (id != null) {
			//existing event
			scheduler.config.icons_select = ["icon_add_record", "icon_goto_calendar"];
			scheduler.locale.labels.icon_add_record = $T("calendar.selectEvent.ttip.icon_add_record");
		} else {
			scheduler.config.icons_select = ["icon_goto_calendar"];			
		}
		scheduler.locale.labels.icon_goto_calendar = $T("calendar.selectEvent.ttip.icon_goto_calendar");
	    return true;
	});
	
	scheduler._click.buttons.add_record = function(id) {
		var event = scheduler.getEvent(id);

		var eventLinkedRecords = [];
		for (var i = 0; i < s.length; i++){
			eventLinkedRecord = {};
			//eventLinkedRecord.eventid = id;
			eventLinkedRecord.type = linkedRecordType;
			eventLinkedRecord.recordid = s[i];
			eventLinkedRecord.lastUpdateUserId = ISH.appContext.accessUserId;
			eventLinkedRecords[i] = eventLinkedRecord;
		}
		var jsonEventLinkedRecords = JSON.stringify(eventLinkedRecords);
		if (event.linkedRecords !== undefined ) {
			event.linkedRecords = event.linkedRecords.concat(jsonEventLinkedRecords).replace("][", ",");
		} else {
			event.linkedRecords = jsonEventLinkedRecords;
		}
		//used on saveEvent()
		
		event.linkedRecords = unique(event.linkedRecords);
		event.linkedRecordLinks = event.linkedRecords;
		
		//event.linkedRecords = s;
		event.linkedRecordType = linkedRecordType;
		dp.setUpdated(id, true, "updated"); //or call onEventChanged
		
		dhtmlx.message({
			text:	$T("calendar.selectEvent.message.saveSuccessfully"),
			expire:	2000,
		});
	};
	scheduler._click.buttons.goto_calendar = function(id) {
		var ev = scheduler.getEvent(id);
		var eventLinkedRecords = [];
		for (var i = 0; i < s.length; i++){
			eventLinkedRecord = {};
			//eventLinkedRecord.eventid = id;
			eventLinkedRecord.type = linkedRecordType;
			eventLinkedRecord.recordid = s[i];
			eventLinkedRecord.lastUpdateUserId = ISH.appContext.accessUserId;
			eventLinkedRecords[i] = eventLinkedRecord;
		}
		
		var calendarURL = ISH.appContext.contextPath + "/smdb/calendar/calendarAction.do?reqCode=addRecordsToEvent"
				+ "&linkedRecordType=" + linkedRecordType
				+ "&Ids=" + s.join(",")
				+ "&eventId=" + id
				+ "&start_date=" + ev.start_date.valueOf()
				+ "&end_date=" + ev.end_date.valueOf()
				+ "&eventLinkedRecords=" + JSON.stringify(eventLinkedRecords)
				;
		
		window.location=calendarURL;
				
	};
	
	scheduler.attachEvent("onEventCreated", function(id, e) {
		var ev = scheduler.getEvent(id);
		ev.start_date = roundDown(ev.start_date);
		ev.text = "Click calendar icon";
		scheduler.updateEvent(id);
	});
}

function unique(jsonString) {
	var objCollection = JSON.parse(jsonString);
	var records = [];

	$.each(objCollection, function(i, value) {
		var existing = false;
		$.each(records, function(j, record) {
			if (value.type === record.type && value.recordid == record.recordid) {
				existing = true;
			}
		});
		if (!existing) {
			records.push(value);
		}
	});
	return JSON.stringify(records);
}

</script>

<div class="row" id="add-records-to-event-dialog" style="display:none;">
	<div style='position: relative; margin-bottom: 30px !important;' class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
	<br><br><br><br>
		<p class="pagesubtitle">Please double click an existing event to add the selected records. You can also double click an empty cell to create a new event with the selected records.</p>
		<div style='padding:10px;'>
			<div id="cal_here" style='width:250px;'></div>
		</div>
	</div>
	

	<div class="col-lg-8 col-md-8 col-xs-12" id='scheduler_here' class='dhx_cal_container' style='width:600px;height:100%;'>
		<div class='dhx_cal_navline'>
			<div class='dhx_cal_prev_button'>&nbsp;</div>
			<div class='dhx_cal_next_button'>&nbsp;</div>
			<div class='dhx_cal_today_button'></div>
			<div class='dhx_cal_date'></div>
			<!-- <div class='dhx_cal_tab' name='month_tab' style='right:76px;'></div> -->
			<div class='dhx_cal_tab' name='week_tab' style='right:140px;'></div>
			<div class='dhx_cal_tab' name='day_tab' style='right:204px;'></div>
		</div>
		<div class='dhx_cal_header'></div>
		<div class='dhx_cal_data'></div>
	</div>
</div>


<script type="text/javascript">

var tempGrid = 'mouseline_table';
var FileCategory = 'mouseline';
window.page = "mouseline"
window.query = "mouseline"
window.suggestsFaqs = [
	 "Color Coding Mouselines",
	 "How to Change the Default Wean, Mature, Tail Tag Ages",
	 "How to Add Strains"
]
window.applyId = "#applyFilter";
window.clearButtonId = "clearFilter";
ISH.strain.usageContext = ISH.strain.USAGE_CONTEXT_FILTER;
ISH.strain.mouselineSelectId = 'mouselineIds';
ISH.strain.strainSelectId = 'strainIds';
</script>

<script src="js/common.js"></script>
<script src="js/smdb/common/Strain.js"></script>
<script src="js/smdb/mouseline/MouselineListDef.js"></script>
<script src="js/smdb/common/Filter.js"></script>
<script src="js/smdb/common/OwnerSwitchFilter.js"></script>
<script src="js/smdb/mouseline/MouselineFilter.js"></script>
<script src="js/smdb/mouseline/MouselineList.js"></script>
<script src="js/smdb/request/RequestListDef.js"></script>

<script src="js/smdb/request/addRequest.js"></script>
<link rel="stylesheet"  href="css/tonavigation-css.css" />
<script src="js/tonavigation-script.js"></script>

<script type="text/javascript" defer src="js/search.js"></script>
<script type="text/javascript" src="js/qfmultiselect.js"></script>

<link rel="stylesheet"  href="css/search.css?version=51" />
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.5/fuse.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
/* 	$(function() {
	$('#edit-table-settings')
			.click(function() {
				$('#edit-table-settings-dialog').dialog('open');
			});
	}); */
</script>
<script type="text/javascript">
$(window).load(function(){
	$.getScript("js/quickFilter.js", function() {
		try {
			resetFilter();
		} catch (e) {}
	});
	/* console.log(document.getElementById("enableGlobalFilterOwner").value);
	if ($("#enableGlobalFilterOwner").val() == 'true'){
		$("span.ON").text( "ON" );
	}else{
		$("span.ON").text( "OFF" );
	}
	$("#enableGlobalFilterOwner").click(function(){
		//alert($("span.ON").text());
		if ($("span.ON").text() == "ON"){

			$("span.ON").text( "OFF" );
		}else if ($("span.ON").text() == "OFF"){
			$("span.ON").text( "ON" );
		}
	}); */

	anchorButtons('#radio1');

$("#printMouseLineMenuButton").click( function(event) {
    var urlStr;
    var s;
    var now = moment();
    s = global_selectedGroupMouselineRowIds; //$("#mouseline_table").jqGrid('getGridParam','selarrrow');
    if (s.length>0) {
        urlStr = ISH.appContext.contextPath + '/smdb/mouseline/print.do?format=pdf&mouseLineIds=' + s + '&dateTime=' + now.format(getMomentJSDateFormat(ISH.pref.dateFormat, true));
    } else {
        urlStr = ISH.appContext.contextPath + '/smdb/mouseline/print.do?format=pdf&dateTime=' + now.format(getMomentJSDateFormat(ISH.pref.dateFormat, true));
    }
    window.open( urlStr, "newwin");
    $(event.target).attr('checked', false).button("refresh");



});

/* $('#reorder-columns').click(function(){
    orderClick($('#mouseline_table'),1);
    }); */




/*$("#t_mouseline_table").append("<input type='button' value='Column Order Save' class='gridtoolbarbuttons orangefont smallfont bold pull-right' id='order'/>");
$("input","#t_mouseline_table").click(function(){
	orderClick($('#mouseline_table'),1);
});*/


$("#exportMouseLineMenuButton").click( function(event) {
	if( $("#exportMouseLineMenuButton").hasClass( "freetop") ){
		return false;
	}
	else{
	    var urlStr;
	    var s;
	    s = global_selectedGroupMouselineRowIds; // $("#mouseline_table").jqGrid('getGridParam','selarrrow');
	    if (s.length>0) {
	        urlStr = ISH.appContext.contextPath + '/smdb/mouseline/print.do?format=xlsx&mouseLineIds=' + s;
	    } else {
	        urlStr = ISH.appContext.contextPath + '/smdb/mouseline/print.do?format=xlsx';
	    }
	    window.open( urlStr, "newwin");
	    $(event.target).attr('checked', false).button("refresh");
	}

});

$('#edit-table-settings-dialog').columnchooser(
	    $('#mouseline_table'),
	    {
	    	titleText: "Strain Table Column Options",
	        tableType: 1
	    }

);
var outerwidth = $('#resultsDiv').width();
$('#mouseline_table').setGridWidth(outerwidth); // setGridWidth method sets a new width to the grid dynamically

winHeight = window.innerHeight;
wHeight = winHeight - 270

//console.log("wHeight" + wHeight);
if(wHeight < 110){  //Height of five rows in grid is 110 pixels.
    wHeight = 110;
    $('#'+ 'mouseline_table').jqGrid('setGridHeight',wHeight);
}
else {
    $('#'+ 'mouseline_table').jqGrid('setGridHeight',wHeight);
}
});




$(window).resize(function () {
    var outerwidth = $('#resultsDiv').width();
    $('#mouseline_table').setGridWidth(outerwidth); // setGridWidth method sets a new width to the grid dynamically

    winHeight = window.innerHeight;
    wHeight = winHeight - 270

	// console.log("wHeight" + wHeight);
	if(wHeight < 110){  //Height of five rows in grid is 110 pixels.
        wHeight = 110;
        $('#'+ 'mouseline_table').jqGrid('setGridHeight',wHeight);
    }
    else {
        $('#'+ 'mouseline_table').jqGrid('setGridHeight',wHeight);
	}
});
//resetownerid();
</script>

<script type="text/javascript">   //filter open close
function filter (theElement) {

	var editOpenCloseImage = document.getElementById("editOpenCloseImage");
	var filter = window.document.getElementById("filter");
	if( $('#filter').is(':visible') ) {
		$('#filter').hide();

		if ($("#editOpenCloseImage").html() == ISH.L10n.messages["filter.Active"] && $('#filterState').text() == ISH.L10n.messages["filter.Active"]){
			$("#editOpenCloseImage").html(ISH.L10n.messages["filter.Active"]);
			$("#editOpenCloseImage").removeClass("btn-default");
			$("#editOpenCloseImage").addClass("btn-primary");
		}
		else if ($("#editOpenCloseImage").html() == ISH.L10n.messages["close.Filter"] && $('#filterState').text() == ""){

			$("#editOpenCloseImage").html(ISH.L10n.messages["open.filter"]);
			$("#editOpenCloseImage").removeClass("btn-primary");
			$("#editOpenCloseImage").addClass("btn-default");
		}
		else if ($("#editOpenCloseImage").html() == ISH.L10n.messages["close.Filter"] && $('#filterState').text() == ISH.L10n.messages["filter.Active"]){

			$("#editOpenCloseImage").html(ISH.L10n.messages["filter.Active"]);
			$("#editOpenCloseImage").removeClass("btn-default");
			$("#editOpenCloseImage").addClass("btn-primary");
		}

		$('#ownerName').show();
	}
	else {
		$('#filter').show();
		$("#editOpenCloseImage").html(ISH.L10n.messages["close.Filter"]);
		$('#ownerName').hide();
	}

}
</script>

<div class="container">

<!--====TITLE====-->
	<div class="row mtop-15">
		<div class="col-lg-12 col-md-12 col-xs-12">
			<span class="pagetitle" data-step="1" data-intro="In SoftMouse, a Strain is a flexible term referring to a categorization of animals based on standard Strains, experimental lines created in house, etc.">Strain List</span>
		&nbsp;&nbsp;&nbsp;
			
		<!-- Split button -->
				<!-- Split button -->
		<div class="btn-group filtergroup" style=" padding: 13px 10px !important; background: transparent !important; display: inline-block !important;">
		  <button type="button" class="btn btn-default btn-sm" id="editOpenCloseImage" onclick="filter(this);" data-step="2" data-intro="Use the filter to locate Mouseline records of interest, including lines you may have archived.">Open Filter</button>
		  <button type="button" class="btn btn-default btn-sm xclose" id="filterResetApply" disabled="disabled" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    <!-- <span class="caret"></span> -->
		    <span class="tag-remove"></span>
		    <!-- <span class="sr-only">Toggle Dropdown</span> -->
		  </button>
			<div id="quickFilter" class="quickFilter" style = "display: inline-block;margin-left: 15px;">
			<button class="searchbutton btn reset-this-display-none" id ="filterSearch" style="background: #fff; border: none !important;" title="Quick Filter">
					<i class="fa fa-filter filterIcon-btn"></i>
				</button>
			<!-- <button class="searchbutton quickFilter" id ="filterSearch" style="width: 118px;background-color: #f0f4f6;border-radius: 5px;height: 31px;x;">
				<i class="fa fa-filter" id="fa-search" style="display: inline-block !important; vertical-align: middle; width: 10px;color: #CCCCCC !important;"></i>
				<div style="font-size: 12px;width: 77px;display: table-cell;vertical-align: middle;color: black;">Quick Filter</div>
			</button> -->

			<section id="filterApp" class="quickFilter">
				<div class="searchBar" id="filterBar" style="display: flex; margin: 15px !important;  width: 430px; margin-top: 20px; background-color: #e9ebee;">
					<div class="autocomplete">
						<div class="searchItems" id="barItems" style="display: flex; margin-top: 0px; overflow-y:hidden;">
							<div id="searchIcon" style="display: table; height: 36px; margin-left: 10px;">
								<i class="fa fa-filter filterIcon" style="display: table-cell !important; vertical-align: middle; width: 10px;color: #cccccc;"></i>
							</div>
							<input style="margin-top: 0px !important; top:0;font-weight: normal; color: #686666; height: 35px; font-family: Roboto; font-size: 12px;" class="searchText" id="FilterInput" autocomplete ="off" placeholder="Quickly Filter Your Colony" type="search"></input>
							<ul id = "multiFilters" class="list-group-horizontal" style="max-height: 280px; padding:0; height: 100%; margin-top: 4px">
							</ul>
							<div id="optionOptions" style="display: none;vertical-align: middle;height: 36px;text-align: center;margin-left: auto;margin-right: 14px;cursor: pointer;">
								<div style="display: table-cell; color: #cccccc;vertical-align: middle;" id="resetQuickFilter" onclick="resetQuickFilter()">Reset&nbsp;</div>
								<div style="display: table-cell; color: #686666;;vertical-align: middle;font-weight: bold;" id="setFilter">Add</div></div>
							</div>
							<div id="selectCO" style="font-size: 10px; color: #686666;margin-left: 10px;">
								<div style="opacity: 1;display: inline;" id="filterSelectCategory">Category</div>&nbsp;
								<div style="opacity: 0.5;display: inline;" id="filterSelectOption"> Option</div>
								<div style="height: 1px;background-color: #ccc;display: flex;">
									<div id = "selectCOBack" style="transition: width .5s ease;background-color: #ccc;height: 1px;width: 0px;"></div>
									<div id = "selectCOUnderline" style="background-color: #357ebd;height: 1px;width: 41px;"></div></div>
								</div>
							<div id="autocomplete-container" class="disable-scrollbars">
							</div>
							</div>
					</div>

					<main id="filterResultBox" style="overflow-X: hidden !important;">
						<div style="font-size: 9px;margin-left: 19px;color: #686666;border-bottom: 1px solid #cccccc;">&nbsp;Active</div>
						<div href="#" id="Filter-window"></div>
					</main>

					<!-- EndApp -->
				</section>
			</div>
		</div>
		<b><span class="btn-white" id="ownerName" style="font-size:12pt;" id="ownerName"></span></b>
		<b><span style="font-size:10px; display: none;" id="filterState"></span></b>
		</div>

	</div>






<!--====CAGE FILTER====-->
<form name="mouselineForm" id="mouselineFilterForm" method="post" action="/smdb/mouseline/mouselineAction.do">
<input type="hidden" name="owneridarr" value="" id="owneridarr">
<input type="hidden" id="idsStr"  />
	<div class="row" id="filter" style="display:none">
		<div class="col-lg-12 well-gray">
<!--====MOUSELINE FILTER====-->

			<div class="row mtop-10">
			<div class="col-lg-12">
				<div class="col-lg-3 col-md-3 col-xs-12">

					<span class="filtertitle mtop-5">Filter:</span>
					<!-- <!--<div class="col-lg-2 col-md-3 col-xs-12" data-step="3" data-intro="Use this yellow drop down to select an action to perform on the pups, e.g. adding tags and genotypes, ending pups, weaning pups, etc.">-->

					<div class="form-group pageboxcontent">
				    <label class="col-lg-4 control-label" title="Find Strains belonging to someone who has given you View or Edit access to their data">Owner:</label>
				    <div class="col-lg-8" title="Find Strains belonging to someone who has given you View or Edit access to their data">
						<select name="ownerIds" multiple="multiple" id="ownerId" class="criterion"><option value="35882">Benjamin Reynolds (Me)</option>
<option value="34867" selected="selected">Jason Christie</option></select>
					</div>
				  </div>

				</div><!--1st column of first row -->
				<div class="col-lg-3 col-md-3 col-xs-12">

				<div class="form-group pageboxcontent mtop20filtter">
				    <label class="col-lg-1 control-label"></label>
				    <div class="col-lg-11">
						<input type="checkbox" id="enableGlobalFilterOwner" name="enableGlobalFilterOwner" class="criterion ish-filter-dont-clear"/><label for="enableGlobalFilterOwner" style="white-space: nowrap;"><i class="fa fa-hand-o-left hidden-sm hidden-xs visible-lg visible-md" style="float: left; padding-top: 3px !important;"></i><i class="fa fa-hand-o-up hidden-lg hidden-md visible-sm visible-xs" style="float: left;"></i> &nbsp; <span class="ON">Set owner for all filters</span></label>
					</div>
				  </div>

				</div><!--2st column of first row -->
				<div class="col-lg-3 col-md-3 col-xs-12">&nbsp;


				</div><!--2st column of first row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10">


				 <div class="form-group pageboxcontent mtop20filtter">
				    <label class="col-lg-3 control-label" style="margin-top: 5px;"><span class="mleft-20">Comment:</span></label>
				    <div class="col-lg-7">
						<input name="comment" class="criterion form-control" size="20"/>
					</div>
				  </div>


				</div>
				</div><!-- internal 12 column -->
				</div><!--first row -->

			<div class="row vspace0">
			<div class="col-lg-12">
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-15">


				 <div class="form-group pageboxcontent">
				    <label class="col-lg-4 control-label">Name:</label>
				    <div class="col-lg-8">
						<select name="mouselineIds" multiple="multiple" id="mouselineIds" class="criterion"><option>All</option>
							<option value="262037">Ai14</option>
<option value="262038">Ai27</option>
<option value="262068">Aldoc-tdTomato</option>
<option value="262043">Alpha6-Cre</option>
<option value="262167">Alpha6-Cre: Ckit-Cre</option>
<option value="262035">C57BL/6J</option>
<option value="262122">Cadm1-Cre</option>
<option value="262124">Cadm1-FlpO</option>
<option value="262144">Cadm1-FLPo:CKit-Cre</option>
<option value="262039">CKit-Cre</option>
<option value="264121">Crh-Cre</option>
<option value="264122">Crh-Cre; Ai27</option>
<option value="262176">Cux2-Cre-ER</option>
<option value="262174">DAGL f/f</option>
<option value="262182">DAGL f/f : Pcp2-Cre-Jdhu</option>
<option value="262178">GCaMP8M</option>
<option value="262180">GCaMP8M; Cux2-Cre-ER</option>
<option value="262169">KV4.3 KO</option>
<option value="262139">KV4.3Flox: Pcp2-Cre-Jdhu</option>
<option value="262173">Necab-Cre</option>
<option value="262147">Necab1-Cre</option>
<option value="262179">Nefm-FlpO</option>
<option value="262175">Nefm-FlpO; Penk-Cre</option>
<option value="262050">nNOS-ChR2-YFP</option>
<option value="262028">No Mouseline</option>
<option value="262067">Nos1-cre</option>
<option value="262029">Pcp2-Cre-Jdhu</option>
<option value="262183">Pcp2-Cre-Jdhu:GCaMP8M</option>
<option value="264814">Pcp2-Cre:PhotonSABER</option>
<option value="262138">Penk-Cre</option>
<option value="262164">Penk-Cre: Ai14</option>
<option value="262163">Penk-Cre: Ai27</option>
<option value="265567">Penk-Cre; nNOS-ChR2-YFP</option>
<option value="262177">PhotonSABER</option>
<option value="262130">Sp5-Cre</option>
<option value="262172">Sp5-Cre: Ai14</option>
<option value="266278">Sp5-Cre; Ai14</option>
<option value="262030">Sp5-FlpO</option>
<option value="262168">Sp5-FlpO; Ckit-Cre</option>
<option value="265423">SynGap Flox</option>
<option value="262049">SynGap KO</option></select>
					</div>
				  </div>


				</div><!--1st column of second row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10 hidden-sm hidden-xs hidden-md free">




				 <div class="form-group pageboxcontent">
				    <label class="col-lg-3 control-label">Background:</label>
				    <div class="col-lg-9">
						<select name="strainIds" multiple="multiple" id="strainIds" class="criterion"><option value="-1">All</option></select>
					</div>
				  </div>

				</div><!--2st column of second row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10 hidden-sm hidden-xs hidden-md free">



				 <div class="form-group pageboxcontent">
				    <label class="col-lg-4 control-label">Category:</label>
				    <div class="col-lg-8">
						<select name="mouselineCategoryIds" multiple="multiple" id="mouselineCategoryId" class="criterion"><option value="-1">All</option>
							<option value="4243809">Genetically Modified</option>
<option value="4243811">Knock-in</option>
<option value="4243812">Knock-out</option>
<option value="4243810">Transgenic</option>
<option value="4243808">Wild Type</option></select>
					</div>
				  </div>

					<!--  	<td valign="top" align="right">Protocol: </td>
						<td><select id="filterField_protocol" name="protocol_id">
						<option VALUE="-1">All</option>
						</select></td> -->

				</div><!--2st column of second row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10 hidden-sm hidden-xs hidden-md">


				 <div class="form-group pageboxcontent">
				    <label class="col-lg-3 control-label"><span class="mleft-40">Wean Age:</span></label>
				    <div class="col-lg-7">
						<input name="weanAge" class="criterion form-control"/>
					</div>
					<div class="col-lg-2">
						<label class="control-label">Days</label>
					</div>
				  </div>


				</div>
				</div><!-- internal 12 column -->
				</div><!--second row -->

			<div class="row">
			<div class="col-lg-12">
				<div class="col-lg-3 col-md-3 col-xs-12 ">

				 <div class="form-group pageboxcontent">
				    <label class="col-lg-4 control-label">State:</label>
				    <div class="col-lg-8">
						<select name="mouselineStates" multiple="multiple" id="mouselineStateId" class="criterion"><option value="-1">All</option>
							<option value="ARCHIVED">ARCHIVED</option>
<option value="ACTIVE" selected="selected">ACTIVE</option>
<option value="DELETED">DELETED</option></select>
					</div>
				  </div>


				</div><!--1st column of third row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10 hidden-sm hidden-xs hidden-md free">

				 <div class="form-group pageboxcontent">
				    <label class="col-lg-3 control-label">Origin:</label>
				    <div class="col-lg-9">
						<select name="mouselineOriginIds" multiple="multiple" id="mouselineOriginId" class="criterion"><option value="-1">All</option></select>
					</div>
				  </div>


				</div><!--2st column of third row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10 hidden-sm hidden-xs hidden-md free">


				 <div class="form-group pageboxcontent">
				    <label class="col-lg-4 control-label">Source:</label>
				    <div class="col-lg-8">
						<select name="mouselineSourceIds" multiple="multiple" id="mouselineSourceId" class="criterion"><option value="-1">All</option></select>
					</div>
				  </div>


				</div><!--2st column of third row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10 hidden-sm hidden-xs hidden-md">


				  <div class="form-group pageboxcontent">
				    <label class="col-lg-3 control-label"><span class="mleft-60">F Mature Age:</span></label>
				    <div class="col-lg-7">
						<input name="femaleMatureAge" class="criterion form-control"/>
					</div>
					<div class="col-lg-2">
						 <label class="control-label">Days</label>
					</div>
				  </div>


				</div>
				</div><!-- internal 12 column -->
				</div><!--Third row -->

			<div class="row vspace0 hidden-sm hidden-xs hidden-md">
			<div class="col-lg-12">
				<div class="col-lg-3 col-md-3 col-xs-12 free">

				 <div class="form-group pageboxcontent">
				    <label class="col-lg-4 control-label">Status:</label>
				    <div class="col-lg-8">
						<select name="mouselineStatusIds" multiple="multiple" id="mouselineStatusId" class="criterion"><option value="-1">All</option>
							<option value="4243807">Cryopreserve</option>
<option value="4243806">Expansion</option>
<option value="4243805">Maintenance</option></select>
					</div>
				  </div>


				</div><!--1st column of forth row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10">&nbsp;



				</div><!--2st column of forth row -->
				<div class="col-lg-3 col-md-3 col-xs-12 mtopxs-10">&nbsp;

				</div><!--2st column of forth row -->
				<div class="col-lg-3 col-md-3 col-xs-12">



				 <div class="form-group pageboxcontent">
				    <label class="col-lg-3 control-label"><span class="mleft-60">M Mature Age:</span></label>
				    <div class="col-lg-7">
						<input name="maleMatureAge" class="criterion form-control"/>
					</div>
					<div class="col-lg-2">
						<label class="control-label">Days</label>
					</div>
				  </div>


				</div><!--2st column of forth row -->

				</div><!-- internal 12 column -->
				</div><!--forth row -->

<!--  <td width="5"></td>
						<td align="right">Color Code:</td>
						<td><select name="colorcodeIds" multiple="multiple" id="colorcodeId" class="criterion"><option value="-1">All</option></select>
						</td>-->

			<div class="row">
				<div class="col-lg-12 col-xs-12">
					<span class="pull-right vspace20" style="height: 30px;">
						<label class="button small red bold" id="clearFilter" title="Set the filter parameters to default">Clear</label>
						
						<label class="button medium blue bold" id="applyFilter" title="Filter your list based on selected parameters">Filter</label>
					</span>
				</div>
			</div><!-- fifth Row -->


</div>
</div>
</form>
<div class="smalltopspacing"></div>
<div id="topscroll" ></div>


<div>

	<div class="row">
		<div class="col-lg-8 col-md-6 col-xs-6" style="padding: 0px !important;">
				<!--======= MENU ========-->
			<div class="btn-group">
				  <button type="button" class="btn dropdown-toggle dr-breakout-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				    Action <span class="fa fa-caret-down"></span>
				  </button>
				  <ul class="dropdown-menu dr-breakout">
					<li><a style="-webkit-border-top-left-radius: 4px !important; -moz-border-top-left-radius: 4px !important; border-top-left-radius: 4px !important;   -webkit-border-bottom-left-radius: 4px !important; -moz-border-bottom-left-radius: 4px !important; border-bottom-left-radius: 4px !important;" id="mouselineNewBtn" href="javascript:void(0)"><span for="mouselineNewBtn" class="navigation_menu_button" title="Create a new Strain "  data-step="3" data-intro="Click here to add a new Strain to your colony.">New Strain</span></a></li>
					<li><a id="mouselineEditBtn" href="javascript:void(0)"><span for="mouselineEditBtn" class="navigation_menu_button" title="Edit the selected Strain " data-step="4" data-intro="Select one or multiple Strains to edit simultaneously.">Edit Strains</span></a></li>
					<li class="freetop"><a id="gotoBtn" href="javascript:void(0)"><span for="gotoBtn" class="navigation_menu_button" title="View animal records belonging to the selected Strain" data-step="5" data-intro="Choose one or more lines then click here and you will be taken to a filtered Animal List automatically narrowed down to show only the records in the selected lines.">Go to Animals</span></a></li>
					<li><a id="archive" href="javascript:void(0)"><span for="archive" class="navigation_menu_button" title="Archive inactive Strains" data-step="6" data-intro="Have some lines that are cryopreserved or no longer in use? Archive them and they will be removed from any Strain drop down list in your colony.">Archive Strain</span></a></li>
					<li><a id="reactivate" href="javascript:void(0)"><span for="reactivate" class="navigation_menu_button" title="Reactive archived Strains" data-step="7" data-intro="Need to bring back a line that has been archived? Filter by archived lines, then select the ones to bring back and click here.">Reactivate Strain</span></a></li>
				</ul>
			</div>

			</div>
			<div class="col-lg-4 col-md-6 col-xs-6" align="right"  style="padding: 0px !important;">
			<button class="searchbutton button" type="button" id='searchSmall' style="display: none !important;">
					<i class="fa fa-search" id="fa-search" style="display: inline-block !important; vertical-align: middle; width: 10px;"></i>
				</button>
				<div class="btn-group">
						  <button type="button" class="btn dropdown-toggle dr-breakout-btnicons" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						    <i class="fa fa-ellipsis-v"></i>
						  </button>
						  <ul class="dropdown-menu dr-breakouticons">
						  	<li><a id="mouselineDeleteBtn" href="javascript:void(0)"><span for="mouselineDeleteBtn" class="navigation_menu_button d-md-inline" title="Delete Mouseline" data-step="8" data-intro="Delete records that were entered by accident."><i class="fa fa-trash"></i></span></a></li>
							<li><a id="viewMouselineMenuButton" href="javascript:void(0)"><span class="navigation_menu_button d-md-inline" title="View the selected record" title="View the selected strain"><i class="fa fa-iconeye"></i></span></a></li>
							<li><a id="printMouseLineMenuButton" href="javascript:void(0)"><span for="printMouseLineMenuButton" class="navigation_menu_button d-md-inline" title="Print the Strain List to PDF" data-step="9" data-intro="Print your entire list or a filtered list to a PDF format..."><i class="fa fa-print"></i></span></a></li>
							<li><a id="exportMouseLineMenuButton" href="javascript:void(0)"><span for="exportMouseLineMenuButton" class="navigation_menu_button d-md-inline" title="Export the Strain List to a spreadsheet" data-step="10" data-intro="...or export your list to a spreadsheet as a report."><i class="fa fa-download"></i></span></a></li>
			            	<li class="freetop"><a id="uploadFilesMenuButton" href="javascript:void(0)"><span for="uploadFilesMenuButton" class="navigation_menu_button d-md-inline" title="Upload files for a group" data-step="10" data-intro="Click to upload files to a group of selections"><i class="fa fa-upload"></i></span></a></li>
							<li class="freetop"><a id="addEventButton" href="javascript:void(0)" onclick="addRecordsToEvent('mouseline_table', ISH.calendar.record.MOUSELINES);"><span for="addEventButton" class="navigation_menu_button d-md-inline" title="Add records to an event" data-step="11" data-intro="Add records to an existing event or create a new event on the calendar"><i class="fa fa-calendar"></i></span></a></li>
							<li class="freetop"><a id="addRequestButton" href="javascript:void(0)"onclick="addRecordsToRequest('mouseline_table', ISH.calendar.record.MOUSELINES);"><span for="addRequestButton" class="navigation_menu_button d-md-inline" title="New Request" data-step="9" data-intro="new request"><i class="fa fa-iconrequest"></i></span></a></li>
							<li class="freetop"><a id="getShareableLink" href="" onclick="javascript:generateShareableLink(); return false;"><i class="fa-generalizationlink-black" style="padding-top: 5px;"></i></a></li>
						  
							<li>
								<a id="search">
									<span for="search" class="navigation_menu_button" title="Check out some useful FAQS" data-step="11" data-intro="See suggestions or search through our FAQs">
										<i class="fa fa-search"></i>
									</span>
								</a>
								<div id ="appBigContainer">
									<section id="app" class="appDesign" style = "position:absolute;">
										<!-- FontAwsome stylesheet for the up down arrow in showmore and the search icom -->
										<div class="searchBar" id="FAQbar" style="display: flex; width: 319px!important;">
											<div class='searchItems' id="barItems" style="display: table;">
												<div id="searchIcon" style="margin: 10px; display: inline; height: 100%;">
													<i class="fa fa-search-mag" style="display: inline-block !important; vertical-align: middle; width: 10px;"></i>
												</div>
												<input style="margin-top: 0px !important; display: inline;" onfocus='appear()' autocomplete="off" class="searchText" id="SearchInput" onkeyup="handle()" placeholder="Ask SoftMouseFAQ" type="text" spellcheck="true">
												</div>
											</div>

											<main id="resultBox" class="disable-scrollbars" style="overflow-X: hidden !important;">
												<h3 class="resultHeader" id="resultHeader">Here are some suggestions:</h3>
												<div href="#" id="chat-window" class="disable-scrollbars"></div>
												<!-- ShowMore section , When clicked showmore function is called-->
												<a id="showMore">
													<div class="arrow" id="arrows" onclick='showMore()'>
														<i class="fa fa-chevron-up" id='uparrow' title="Scroll to see more results" style = "display:none; margin-top:5px;"></i>
														<i class="fa fa-chevron-down" id='downarrow'></i>
													</div>
												</a>

											</main>

											<!-- EndApp -->
										</section>
									</div>
							</li>
						</ul>
				  </div>
			  </div>
				<section id="appSmallContainer" >

					<!-- EndApp -->
				</section>
			</div>
	<!--======= EDIT TABLE SETTINGS WINDOW ========-->
		<div align="right">
			
			<div class="ish-columnchooser-text columnchooser-background" id="edit-table-settings-dialog" title="Customize Table Columns" ></div>
		 <!-- <div><button id="reorder-columns">column order save</button></div> -->
		</div>
</div>


<!--======= MOUSELINE LIST========-->
     <div id="resultsDiv" class="jqGrid">
		<table id="mouseline_table"></table>
       <!--  <div id="pager"></div>-->
     </div>
     <br/><div id="noResultsDiv" style="display:none">
		 <span class="list_tips regularfont">No Strains to show! <br><br>Click the New Line button to create a new record or simply try a different filter parameter if you already have Strain records.</span>

     </div>

</div>
<!-- Tour Modal Start -->
<div class="modal modal1 Tourmodal-wide fade" id="help-selected-dialog" title="Helpful SoftMouse FAQs">
<div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h5 class="modal-title">Helpful SoftMouse FAQs</h5>
        </div>
        <div class="modal-body">
        	<ul id="navlistFAQ">
	      		<li><a href="https://softmousefaq.com/1/Color+Coding+Mouselines" target="_blank">How to color code lines</a></li>
	      		<li><a href="https://softmousefaq.com/2/How+to+Change+the+Default+Wean,+Mature,+Tail+Tag+Ages" target="_blank">How to change the default Wean, Mature and Tail/Tag age</a></li>
	      		<li><a href="https://softmousefaq.com/1/How+to+Add+Strains" target="_blank">How to add background strains</a></li>
     		</ul>

	      	<i class="fa fa-bicycle" aria-hidden="true"></i> <a class="bicycle-link" href="javascript:void(0);" onclick="javascript:startTour();">Take the tour</a>

        </div>

      </div>
    </div>

</div>
<!-- Tour Modal End -->

<script src="js/jquery/plugins/ajaxfileupload/ajaxfileupload.js"></script>
<script src="js/smdb/protocol/ProtocolPermissionCheck.js"></script>
<script src="js/accountSetting/studyPermission/StudyPermissionChecker.js"></script>
<script src="js/accountSetting/projectPermission/ProjectPermissionChecker.js"></script>

<script type="text/javascript">

	$(function() {
		var noPermission = "You do not have sufficient permissions to access these records. Please contact your administrator to request access to the selected records.";

		/*
			Usage:
			For example: to add group file upload icon for protocol list page
			1. in ProtocolList.jsp page, add the following
				var tempGrid = 'protocolTable';
				var FileCategory = 'protocol';
			2. in ProtocolList.js, add
				var selection = global_selectedRowIds; which are the protocol ids, the files will  be added into.
			3. in add switch(category) {...} block, add 
			
				case 'protocol':
				for (var i = 0; i < ids.length; i++) {
					var rowData = $('#'+ tempGrid).jqGrid('getRowData', ids[i]);
					sidList = sidList + rowData.name ;
					if (i!=ids.length-1) sidList = sidList + ",";
				}
				break;

		
		
		*/


		$('#fileUpload-dialog').dialog({
			autoOpen: false,
			show: "blind",
			modal: true,
			width: 500,
			close: function() {

			}
		});

		$('#fileUploadEditCancel').click(function() {
			$("#inputFiles tr").has('td').remove();
			$("#file0").val('');

			$('#'+ tempGrid).jqGrid('resetSelection');
			selection.splice(0, selection.length);
			global_selectedGroupMatingRowIds = []; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
			global_selectedGroupMiceRowIds = []; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
			global_ids = []; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
			global_selectedGroupMouselineRowIds = []; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
			selectedRowdata4mating1 = [];
			$('#'+ tempGrid).trigger('reloadGrid');
			$('#fileUpload-dialog').dialog('close');
			
		});

		$('#file0').live('change',function(){
			var ids;
			var file = $("#file0").val();
			var category = FileCategory;

			switch(category) {
			case 'mouse':
				ids = global_selectedGroupMiceRowIds;
			break;
			case 'mouseline':
				ids = global_selectedGroupMouselineRowIds;
				break;
			case 'mating':
				ids = global_selectedGroupMatingRowIds; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
				break;
			case 'litter':
				ids = global_ids;
          break;
			case 'cage':
				ids = global_selectedGroupMiceRowIds;
          break;
			case 'request':
				ids = global_ids;
          break;
			case 'order':
			case 'study':
				ids = global_ids;
          break;
			default :
				ids = selection;
		} // end of switch
			
			var filesize = ($("#file0")[0].files[0].size / (1024*1024));
			if(filesize>10){
				alert("Upload file size limit is 10MB");
				return false;
			}
			// get the file name, possibly with path (depends on browser)

			var filename = $("#file0").val();
			if(filename.indexOf("#") != -1 || filename.indexOf("&") != -1 || filename.indexOf("%") != -1){
				alert("The filename can not have specail characters, such as  #, &, %  etc.");
				return false;
			}

			// Use a regular expression to trim everything before final dot
			var extension = filename.replace(/^.*\./, '');

			// Iff there is no dot anywhere in filename, we would have extension == filename,
			// so we account for this possibility now
			if (extension == filename) {
				extension = '';
			} else {
				// if there is an extension, we convert to lower case
				// (N.B. this conversion will not effect the value of the extension
				// on the file upload.)
				extension = extension.toLowerCase();
			}
			 if(extension==''){
			    	alert("Please upload file with extension.");
			    	$("#file0").val('');
			    	return false;
			  }
			// front end check for illegal file types (XSS-related); mostly ES6 code for latest FF/Chrome/Edge
			var FORBIDDEN = new Set(['html', 'htm', 'css', 'js']);

			if (FORBIDDEN.has(extension)) {
				alert("Uploading ."+extension+" files is not permitted for security purposes. Thank you for your understanding.");
				return false;
			}
			if(extension == 'exe'){
				alert("Uploading an executable file (.exe) is not permitted for security purposes. <br>Thank you for your understanding.");
				return false;
			}

			if(file!==""){
				$("#loading")
						.ajaxStart(function(){
							$(this).show();
						})
						.ajaxComplete(function(){
							$(this).hide();
						});
				mc$.ajaxFileUpload
				(
						{
							url:'uploadfile/uploadGroup',
							secureuri:false,
							fileElementId:'file0',
							// data: {'mouselineid':id},
							data: {'category':category,"ids":ids},
							dataType: 'json',
							success: function (data, status)
							{
								if(typeof(data.error) != 'undefined')
								{
									if(data.error != '')
									{
										alert(data.error);
									}else
									{
										alert(data.msg);
									}
								}else if(data.length>0){

									$.each(data, function (index, value) {

										$("#filesUploaded").append(

												$('<tr/>').attr('name',value.fileName)
														.append($('<td/>').html("<input type='checkbox' id='file_checkbox_"+value.fileName+"' value='"+value.fileName+"'/>"))
														// .append($('<td/>').html("<a href='uploadfile/getFile/"+value.id+"' >"+value.fileName.substring(17)+"</a>"))
														//   .append($('<td/>').text(value.fileName.substring(17)))
														.append('<td  style="white-space: wrap !important;">'+value.fileName.substring(17)+'</td>')
														.append($('<td/>').text(value.fileSize)));

									});

									var sidList = "";

									switch(category) {
										case 'mouse':
											for (var i = 0; i < selectedRowdata4mating1.length; i++) {
												var rowData = selectedRowdata4mating1[i];
												if ($.trim(rowData.physicaltag).length === 0 ) {
													sidList = sidList + "("+ rowData.sid+")" ;
												} else {
													sidList = sidList + rowData.physicaltag;
												}
												if (i!=ids.length-1) sidList = sidList + " ,";
											}
										break;
										case 'mouseline':
											for (var i = 0; i < selectedRowdata4mating1.length; i++) {
												var rowData = selectedRowdata4mating1[i];
												sidList = sidList + rowData.name;
												if (i!=ids.length-1) sidList = sidList + " ,";
											}
											break;
										case 'mating':
											ids = global_selectedGroupMatingRowIds; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
											for (var i = 0; i < selectedRowdata4mating1.length; i++) {

												var rowData = selectedRowdata4mating1[i];
												if ($.trim(rowData.matingtag).length === 0 ) {
													sidList = sidList + "("+ rowData.matingsid+")" ;
												} else {
													sidList = sidList + rowData.matingtag;
												}
												if (i!=ids.length-1) sidList = sidList + " ,";
											}
											break;
										case 'litter':
											for (var i = 0; i < selectedRowdata4mating1.length; i++) {
												var rowData = selectedRowdata4mating1[i];
												if ($.trim(rowData.littertag).length === 0 ) {
													sidList = sidList + "("+ rowData.littersid+")" ;
												} else {
													sidList = sidList + rowData.littertag;
												}
												if (i!=ids.length-1) sidList = sidList + " ,";
											}
					                  break;
										case 'cage':
											for (var i = 0; i < selectedRowdata4mating1.length; i++) {
												var rowData = selectedRowdata4mating1[i];
												if ($.trim(rowData.littertag).length === 0 ) {
													sidList = sidList + "("+ rowData.cagesid+")" ;
												} else {
													sidList = sidList + rowData.cagetag;
												}
												if (i!=ids.length-1) sidList = sidList + " ,";
											}
			                          break;
										case 'project':
											for (var i = 0; i < ids.length; i++) {
												var rowData = $('#'+ tempGrid).jqGrid('getRowData', ids[i]);
												sidList = sidList + rowData.name;
												if (i!=ids.length-1) sidList = sidList + " ,";
											}
											break;
										case 'experiment':
											for (var i = 0; i < ids.length; i++) {
												var rowData = $('#'+ tempGrid).jqGrid('getRowData', ids[i]);
												sidList = sidList + rowData.name ;
												if (i!=ids.length-1) sidList = sidList + ",";
											}
											break;
										case 'protocol':
											for (var i = 0; i < ids.length; i++) {
												var rowData = $('#'+ tempGrid).jqGrid('getRowData', ids[i]);
												sidList = sidList + rowData.name ;
												if (i!=ids.length-1) sidList = sidList + ",";
											}
											break;
										case 'request':
											for (var i = 0; i < selectedRowdata4mating1.length; i++) {
												var rowData = selectedRowdata4mating1[i];
												sidList = sidList + rowData.guisid ;
												if (i!=ids.length-1) sidList = sidList + ",";
											}
											break;
										case 'order':
											for (var i = 0; i < selectedRowdata.length; i++) {
												var rowData = selectedRowdata[i];
												sidList = sidList + rowData.guisid ;
												if (i!=ids.length-1) sidList = sidList + ",";
											}
											break;
										case 'study':
											for (var i = 0; i < selectionTypes.length; i++) {
												var rowData = selectionTypes[i];
												sidList = sidList + rowData.guisid ;
												if (i!=ids.length-1) sidList = sidList + ",";
											}
											break;
											
											
										default :
											sidList = sidList + rowData.sid + " ";
									} // end of switch


									alert("The file(s) were added to the following records:<br>"+category+"  " + sidList);
									
								}
							},
							error: function (data, status, e)
							{
								alert(e);
							}
						});

			}

		});

		$("#filesDeleteBtn").click(function(event){
			var selected = new Array();

			var file_names="";
			$("#filesUpload-div input[type=checkbox]").each(function() {
				if(this.checked)
					selected.push($(this).val());
			});

			if(selected.length==0){alert("Please select files to delete"	);}
			else{
				for(i=0;i<selected.length;i++)
					file_names += selected[i]+",";
				var file = new Array();
				var fileName= new Array();
				if(!(confirm("Are you sure you want to delete these files from this record?")))return false;
				//var id = $("#currentid").val();
				var ids = selection;
				$.get('uploadfile/deleteGroupUploadedFiles',{'Name': file_names,"id":ids },function(data){

					var dataList = data.split(":");
					if((dataList[0]=="Success")&&(dataList.length>1)){
						for(i=1;i<dataList.length;i++){
							file =dataList[i].split(",");
							fileName[i-1] =file[1];  }}
					for(i=0;i<fileName.length;i++){
						var checkId = $("tr[name='"+fileName[i]+"']");
						var div = $("div[id='"+fileName[i]+"']");
						checkId.remove();
						div.remove();
						//$('#fileUpload-dialog').dialog('close');

					} if((dataList[0]=="Errors")){
						alert("...... Error....");
					}
					//	$('#fileUpload-dialog').dialog('close');
				});
			}

			

		});
		$("#uploadFilesMenuButton").click(function(event) {
			if( $("#uploadFilesMenuButton").hasClass( "disabled") ){
				e.preventDefault();
				return false;
			} else{
			    // selection is from MouseList.js var selection = global_selectedGroupMiceRowIds;
			    /*
			    	Task 19504616 Upload file option is not working when you select records through Shift+Click
			    	selection will have duplicate records when using shift + click.
			    */
			    // console.log("where is this selection come from? " ,selection);
			    var selection2 =  selection.filter((v, i, a) => a.indexOf(v) === i); 
			    // console.log("not dup selection " ,selection2);
				$('.ui-jqgrid .loading').show();
				if (selection2.length == 0) { //This is just for mating page as it didn't set the global rows
					if (tempGrid == 'matinglist_table') {
						var tempIds = global_selectedGroupMatingRowIds; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
						for (var i = 0; i < selectedRowdata4mating1.length; i++) {
							row = selectedRowdata4mating1[i];
							// selection[i] = row.matingId;
							selection2[i] = row.matingId;
						} 
					}
					else if (tempGrid == 'mouseTable') {
						var tempIds = global_selectedGroupMiceRowIds; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
						
					}
					else if (tempGrid == 'cage_table') {
						var tempIds = global_selectedGroupMiceRowIds; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
						
					}
					else if (tempGrid == 'litter_table') {
						var tempIds = global_ids; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
						
					}
					else if (tempGrid == 'mouseline_table') {
						var tempIds = global_selectedGroupMouselineRowIds; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
						
					}
					else if (tempGrid == 'requestTable' || tempGrid == 'orderTable') {
						var tempIds = global_ids; //$('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
						
					}else if(tempGrid != "matinglist_table" && tempGrid != "mouseTable" && tempGrid != "cage_table" && tempGrid != "litter_table" && tempGrid != "mouseline_table"){
						var tempIds = 0;
					}
					$('.ui-jqgrid .loading').hide();
					//selection = $('#'+ tempGrid).jqGrid('getGridParam','selarrrow');
				}
				var selectedIds = selection2;

				if (selectedIds.length === 0 && tempIds.length === 0) {
					alert($('<div/>').html($T('select.alert')).text());
					$(event.target).attr('checked', false).button("refresh");
					$('.ui-jqgrid .loading').hide();
					return;
				}

				if(tempGrid === 'protocolTable') {
					var canContinue = ProtocolPermissionCheck.checkEditPermission(selectedIds);
					
					if(!canContinue) {
						$('.ui-jqgrid .loading').hide();
						alert($('<div/>').html(noPermission).text());
						return;
					}
				}
				
				if(tempGrid === 'studyTable') {
     				// console.log("study list table ", selectedIds, ISH.studyPermission.ATTACH_FILES_TO_STUDY);
					var canContinue = ISH.studyPermission.checkPermissionByResource(selectedIds, ISH.studyPermission.ATTACH_FILES_TO_STUDY, true);
					if(!canContinue) {
						$('.ui-jqgrid .loading').hide();
						alert($('<div/>').html(noPermission).text());
						return;
					}
				}
				
				if(tempGrid === 'projectTable') {
     				// console.log("project list table ", tempGrid, selectedIds);
					var canContinue = ISH.projectPermission.checkPermission(selectedIds, ISH.projectPermission.EDIT);
					if(!canContinue) {
						$('.ui-jqgrid .loading').hide();
						alert($('<div/>').html(noPermission).text());
						return;
					}
				}
				
				$("#filesUploaded").children().remove();
				$('#fileUpload-dialog').dialog('open');
				$('.ui-jqgrid .loading').hide();
				return false;

			}

		});


	});



</script>

<div id="fileUpload-dialog" title="Attach New Files/Delete existing files" style="display: none;"  class="blue_box_form">
	<div id= filesUpload-div >
		<table width="450" align="center"  style="margin-bottom: 20px !important;">
			<tr><td>
				<table id ="filesUploaded" width="400">
				</table>
			</td></tr>
			<tr>
				<td>
					<table id="inputFiles">
						<tr><th><input id="file0" type="file" name="files0" style="visibility:hidden"/></th></tr>
					</table>
					<div id="loading" style="display: none;"> </div>
					<div id="progress">
						<div style="width: 0%;"></div>
					</div>
				</td>
			</tr>
			<tr width="400">
				<td>
					<button id="filesDeleteBtn" class="button medium gray bold" > Delete </Button>
					<button id="fileUploadEditSave" name="fileUpload-dialogSave" value="true" class="button medium green bold" onClick="document.getElementById('file0').click();">Add a New File</button>
					<button id="fileUploadEditCancel" name="fileUpload-dialogCancel" value="true" class="button medium red bold">Close</button>
				</td>
			</tr>

		</table>
	</div>

</div>
<div class="modal fade" id="request-selection-dialog" style="z-index: 1999 !important;">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Add Records to Request</h4>
			</div>
			<div class="modal-body">

				<div class="container">

					<div class="row">
						<div class="col-lg-12 col-md-12 col-xs-12">
							<div class="form-check">
								<input class="form-check-input" type="radio" name="request" id="newRequest" value="0" checked /> <label class="form-check-label" for="newRequest"> Create a New Request </label>
							</div>

							<div class="form-check">
								<input class="form-check-input" type="radio" name="request" id="existingRequest" value="1" /> <label class="form-check-label" for="existingRequest"> Add Records to an Existing Request </label>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-lg-12 col-md-12 col-xs-12">
							<span class="pull-right">
								<button class="button small red bold" id="requestSelCancel" data-target="request-selection-dialog">
									Cancel
								</button>
								<button class="button medium green bold" id="requestSelConfirm" data-target="request-selection-dialog">OK</button>
							</span>
						</div>
					</div>
				</div>
			</div>
			<!-- <div class="modal-footer"></div> -->
		</div>
	</div>
</div>
<script type="text/javascript">
$(document).ready(function () {
	winHeight = window.innerHeight;
	wHeight = winHeight - 1500;
	
	if(wHeight < 110){  //Height of five rows in grid is 110 pixels.
	    wHeight = 110;
	    $('#'+ 'requestTable').jqGrid('setGridHeight',wHeight);
	}
	else {
	    $('#'+ 'requestTable').jqGrid('setGridHeight',wHeight);
	}
	
	$('#receiveUserIds').find('option[value=""]').removeAttr( "value" );
	$('#receiveUserIds').multiselect({header: ' '}).multiselectfilter();
});
function resizewindow(){

        
        winHeight = window.innerHeight;
    	wHeight = winHeight - 1500;

    	if(wHeight < 110){  //Height of five rows in grid is 110 pixels.
            wHeight = 110;
            $('#'+ 'requestTable').jqGrid('setGridHeight',wHeight);
        }
        else {
            $('#'+ 'requestTable').jqGrid('setGridHeight',wHeight);
    	}
}

</script>
<div class="modal modal-wide fade" id="request-existing-dialog" style="z-index: 1999 !important;">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Add Records to Existing Request</h4>
			</div>
			<div class="modal-body">

				<div class="container">


					<div class="row">
						<div>
							<div id="requestMsgDiv" style="margin: 0 0 10px 0; display: none;"></div>
						</div>
					</div>


					<div id="resultsDiv" class="jqGrid">
						<table id="requestTable"></table>
					</div>
					<br />
					<div id="noResultsDiv" style="display: none">
						<span class="list_tips regularfont">No Requests to show!</span>
					</div>

					<div class="row">
						<div class="col-lg-12 col-md-12 col-xs-12">
							<span class="pull-right">
								<button class="button small red bold" id="requestExistingCancel" data-target="request-existing-dialog">
									Cancel
								</button>
								<button class="button medium green bold" id="requestExistingAdd" data-target="request-existing-dialog">Add to Request</button>
							</span>
						</div>
					</div>
				</div>
			</div>
			<!-- <div class="modal-footer"></div> -->
		</div>
	</div>
</div>



<a class="scrolltotop" href="#" style="text-decoration: none !important;"><span class="icon-chevron-up"></span></a>














<style>
hr {
  background: url("images/hr.png") no-repeat scroll 50% 0 transparent;
  border: medium none;
  height: 19px;
  margin: 0px 0 10px;
}
</style>
<script>
jQuery(document).ready(function($) {
	 
    $("#rulespolicy").click(function(event){
		$("#ambassador-program-dialog").animate({
	        scrollTop:  1700
	   });
    });
    $("#rulespolicy1").click(function(event){
		$("#ambassador-program-dialog").animate({
	        scrollTop:  1700
	   });
    });
    $("#rulesandFAQ").on("click" ,function(){

		$("#ambassador-program-dialog").animate({
		        scrollTop:  1700
		   });

	});
    /* $("#rulesandFAQ").click(function(event){
    	
        event.preventDefault();
        $('#ambassador-program-dialog').animate({scrollBottm:$("#topscroll1").offset().top}, 1700);
    }); */
});
</script>
<!-- Referral Program Start -->
<div class="modal modal-wide1 fade largefont" id="ambassador-program-dialog" style="font-family: 'Roboto' !important;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button> -->
        <div class="col-lg-12 col-md-12 col-xs-12">
			<span class="pull-right">
				<button class="button small red bold" id="exit" name="exit"  value="true" data-target="#">Close</button>
			</span>
		</div>
      </div>
      <!-- <div class="modal-body"> -->
      <div class="row">
		<!-- Start Content -->
		<div class="content-section-b" style="border: none !important; margin-top: -20px !important;">
			
				<div class="container">
					<div class="row">
						<div class="col-lg-12">
							<!-- <img src="images/SoftMouse-Refer-your-Friends-0022.jpg" class="img-responsive well-orange-box"> -->
							
						</div>
					</div>	
				</div>
		</div>
		<div class="content-section-a" style="border: none !important; margin-top:-30px;  background: #fff !important">
			<div class="container">	
				<div class="row">
				
		    
		    <div class="col-lg-12 center">
		    	<h2 style="font-size: 45px;"><img src="images/refer-your-friends-today.png" class="img-responsive" style="display: inline; margin-top:-30px;"></h2><br>
		    </div>
		    
		    <div class="col-lg-12">

		    <div class="col-lg-12">
					<div id="referfriends-form" title="Refer Friends">
						
							
							
							Thank you for wanting to refer a friend to SoftMouse.NET! We appreciate the support!<br><br>

							To refer your friend: please go to your email and copy and paste the sample text below into a new email to your friend - feel free to modify as needed!<br>
							Also, importantly, please cc <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6d1e181d1d021f192d3e020b192002181e0843232839">[email&#160;protected]</a> on the email so that we may follow up with your friend(s).<br><br>
							
							Why must you send the referral in this manner? Because we are a Canadian company, our laws force us to be ultra-polite. We are legally not allowed to send out unsolicited emails. Sorry :) 
							<br><br>
							<span class="redfont">Note:</span> Please only refer friends or colleagues who you know or you think would have a need for SoftMouse.NET. Thanks!<br><br>
							
							Thank you for your support!<br>
							The SoftMouse.NET Team. <br><br>
							
							
							Sample text:<br><br>
							<p style="font-style: italic; margin-left: 20px; font-size: 18px !important;">
							Hello,  <br>
							I've been using SoftMouse.NET Digital Colony Management Software to manage my rodent colonies and thought you might want to give it a try.<br>
							
							It has been a wonderful resource in my lab by streamlining our data, saving time and money. <br>
							
							They offer a 30 day trial. You can sign up here: www.SoftMouse.NET<br>
							  
							Let me know what you think!<br><br>
							</p>
							

							</div>  
					</div>
					</div>                                     
		    	</div>
			</div>
		</div>
		<!-- Start Tabs -->
		<a id="topscroll"></a>
		<div class="content-section-b">
			<div class="container">
				<div class="row">
					<div class="panel with-nav-tabs panel-default" style="border:none !important;">
		                <div>
		                        <ul class="nav nav-tabs" style="border-bottom: 1px solid #ccc;" id="tabable">
		                        	<li class="active"><a href="#tab1default" data-toggle="tab" style="font-size: 20px !important; background: #fff; color: #000; text-decoration: none; border-bottom: 1px solid #ccc;" id="referral-p">About Refer-your-Friends Program</a></li>
									<!-- <li><a href="#tab2default" data-toggle="tab" style="font-size: 20px !important; background: #fff; color: #000; text-decoration: none; border-bottom: 1px solid #ccc;" id="referral-p1">Referral Rules and Policy</a></li> -->
									<li><a href="#tab3default" data-toggle="tab" style="font-size: 20px !important; background: #fff; color: #000; text-decoration: none; border-bottom: 1px solid #ccc;" id="referral-p2">Referral FAQs</a></li>
		                        </ul>
		                </div>
		
		                    
							<div class="panel-body" style="background-color: #fff !important; border: 1px solid #ccc;">
								<div class="tab-content">
									<div class="tab-pane fade in active" id="tab1default">
									<div class="largefont">
									<h2 style="color: #4682B4;">About Refer-your-Friends Program</h2>
											
											We know you love using SoftMouse.NET. <br>

											Do you know a researcher or a technician or a PI or a lab manager or a veterinarian that could benefit from using SoftMouse.NET breeding and colony management system?
											<br>If yes, please spread the word to your friends and colleagues.
											<br><br>
		
		
											<b>Why should you refer your friends to SoftMouse.NET?</b>
											<ol style="margin-left: -20px;">
												<li>You can help your friends more efficiently manage their mouse/rat (rodent) breeding and colonies. This will allow everyone to save time, money and reduce frustrations!</li>
												<li>You guarantee that your friends will be using the best digital colony management cloud application available and receiving the best customer service experience.</li> 
											 	<li>To stimulate the growth as well as the broadening of SoftMouse.NET users.</li>
											</ol>
		
											
											<h2 style="color: #4682B4;">Referral Process</h2>
		
		
											<ol> 
	                                    		<li style="margin-left: -20px;">Reach out to your friends or colleagues</li>
	                                            <li style="margin-left: -20px;">Tell them to try the SoftMouse.NET colony and breeding management solution.</li>
		                                    </ol>
		                                    <span style="display: block; margin-bottom: 20px !important;">
		                                    	<span class="redfont">Note:</span> Please only refer friends or colleagues who you know or you think would have a need for SoftMouse.NET. Thanks!
	                                    	</span>
		
											<h2 style="color: #4682B4;">Thank You</h2>
											<span style="display: block; margin-bottom: 20px !important;">
												Thank you for sharing your love of SoftMouse.NET with your friends and colleagues. They will thank you for helping them find SoftMouse.NET, the best digital mouse colony management software.
											</span><br><br>
											
		
											
										</div>
										
									</div>
									
									<!-- <div class="tab-pane fade" id="tab2default">
										<div class="largefont">
										<a id="topscroll1"></a>
		
											<h2 style="color: #4682B4;">Refer-your-Friends - Rules and Policy</h2><br> 1. You acknowledge that submission of Refer-your-Friends entry form constitutes acceptance of the Refer-your-Friends Rules and Policy, and that you have had the opportunity to review them before clicking the send button. By using the Refer-your-Friends entry form, you consent to receive future email/mail marketing communications regarding services, incentives, offers, promotions, or other messaging related to Iseehear Inc. Life Sciences services. Iseehear Inc. Life Sciences will never send SPAM emails.
											Please read our  <a href="https://www.iseehear.com/email+policies.php#no+spam" target='_blank'>No SPAM Policy</a>. Please review our <a href="https://www.iseehear.com/privacy.php" target="_blank">Privacy Policy</a>.  <br><br>
											2. Recommend as many friends and colleagues that you believe will be interested.
											<br><br><b>ELIGIBILITY:</b> To participate in the Refer-your-Friends program, you must be 21 years of age or older and be a <b>FOREVER FREE</b> or <b>PREMIUM</b> subscriber of an Iseehear Inc. Life Sciences service (for example SoftMouse.NET). <br><br> <b>INELIGIBILITY:</b> Employees and paid contractors of Iseehear Inc. Life Sciences, its affiliates, sales representatives, agencies and other vendor agencies involved in the promotion, and the immediate family (parent, spouse, sibling, child, grandparent, grandchild) and household members of all such employees (even if not related), are NOT eligible. Promotion is subject to all Local , Provincial, State and Federal laws and regulations. Void where prohibited or restricted by law.<br><br> 
											<b>HOW TO PARTICIPATE:</b> Entries can be submitted using the Iseehear Inc. Life Sciences Refer-your-Friends online form.<br><br> 
											If you have any further questions, please <a href="softmouse-mouse-colony-management-software-database-lims-contacts.jsp" target='_blank'>contact us</a> with your inquiry.
		
											
										</div>
		
									</div> -->
									<div class="tab-pane fade" id="tab3default">
										<div class="largefont">
											<h2 style="color: #4682B4;">Referral FAQs</h2><br>
		
											<b style="color: #4682B4">Q1. Who can I refer?</b><br>
											You can refer a friend, a colleague, a researcher, a technician, a PI, a lab manager or a veterinarian that could benefit from using the SoftMouse.NET breeding and colony management system.
											<br><br>
											<span style="color: red; ">Note:</span> Please only refer friends or colleagues who you know or you think would have a need for SoftMouse.NET. Thanks!
											<br><br>
											
											<b style="color: #4682B4">Q2. Will you give out my friend's or my colleague's contact information to a third party?</b><br>
											<b>No!</b> We will not give out your friend's, your colleague's nor your personal information to any third party. Please review our <a href="https://www.iseehear.com/privacy.php" target="_blank">Privacy Policy</a>.
											<br><br>
											
											
											
											<!-- <b style="color: #4682B4">Q3. How do I make a referral?</b><br>
											 
											1.	Fill out the Referral form above.<br>
											2.	Phone or email your friends/colleagues and tell them to try the SoftMouse.NET colony and breeding management solution.<br>
											<ul>
												<li>Email: support@SoftMouse.NET</li>
												<li>Telephone: +1 416-492-4358</li>
												<li>Toll Free: 1 844 559 6322</li>
											</ul>
												
		                                    <span style="display: block; margin-bottom: 20px !important;">
		                                    	<span class="redfont">Note:</span> Please only refer friends or colleagues who you know or you think would have a need for SoftMouse. Thanks!
	                                    	</span> -->
	                                    	
											<b style="color: #4682B4">Q3. How many friends and colleagues can I refer?</b><br>
											There is no limit to the number of referrals you can invite.
											 Please only refer friends or colleagues who you know or you think would have a need for SoftMouse.NET.
											<br><br>
											
											<b style="color: #4682B4">Q4. Will I be notified that my friend has received a SoftMouse.NET refer your friend email invitation?</b><br>
											Yes, you and your friend will both receive a confirmation email.
											<br><br>
		
										</div>
		
										</div>
		
							
		                </div>
		            </div>
		                  
		                  
				</div>
		
			</div>
			
			<div class="row center">
				
				<img src="images/Share-the-Love-0004.png" class="img-responsive" style="display: block; margin-bottom: 40px !important; margin-top: 40px !important;  text-align: center;">
			</div>
		</div>
		<div class="col-lg-12 col-md-12 col-xs-12">
			<span class="pull-right">
				<button class="button small red bold" id="cancel" name="cancel"  value="true" data-target="#">Cancel</button>
				
			</span>
		</div>
		<br/>
		
		</div>
		</div>
    </div>
  </div>
 </div>
  
  















<style>
hr {
  background: url("images/hr.png") no-repeat scroll 50% 0 transparent;
  border: medium none;
  height: 19px;
  margin: 0px 0 10px;
}
blockquote {
  
  border-left: 10px solid #7AB42D !important;
  margin: 1.5em 10px !important;
  padding: 0em 10px !important;
  font-weight: bold !important;
  
  
}
blockquote:before {
  color: #7AB42D !important;
  content: url("images/openquote.png");
  font-size: 4em !important;
  line-height: 0.1em !important;
  margin-right: 0.1em !important;
  vertical-align: 0.1em !important;
  font-style: normal !important;
  
}
blockquote p {
  display: inline !important;
}

blockquote:after {

}
</style>

<!-- Referral Program Start -->
<div class="modal modal-wide fade largefont" id="ambassador-program-dialog1" style="font-family: 'Roboto' !important;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button> -->
        <div class="col-lg-12 col-md-12 col-xs-12">
			<span class="pull-right">
				<button class="button small red bold" id="exit1" name="exit1"  value="true" data-target="#">Close</button>
			</span>
		</div>
      </div>
      <div class="modal-body">
		<!-- Start Content -->
		<div class="content-section-b" style="border-top: none !important; margin-top: -20px !important;">
			
				<div class="container">
					<div class="row">
						<div class="col-lg-12">
							<img src="images/SoftMouse-testimonial-0003.jpg" class="img-responsive">
							
						</div>
					</div>	
				</div>
		</div>
		
		
		<!-- Start Tabs -->
		<a id="topscroll"></a>
		<div class="content-section-b">
			<div class="container">
				<div class="row">

							

							<div class="col-lg-6" align="left" style="padding-left: 40px !important;">
									
										<div class="largefont">
				                        <h2>Tell your <span class="SoftMouseredfont bold logofont">SoftMouse</span><span class="logofontnet bold logofont">.NET</span> story</h2>
				                        We know that without our happy and loyal customers we would not be the number one digital colony management system today.<br><br>


										As a dedicated user, no one is better qualified to spread the word about the many benefits of a <span class="SoftMouseredfont bold logofont">SoftMouse</span><span class="SoftMousebluefont">.NET</span> subscription than you.<br><br>
				                        
				                        Tell us in a few words what you love about <span class="SoftMouseredfont bold logofont">SoftMouse</span><span class="SoftMousebluefont">.NET</span>.<br> 
										We will post selected testimonials on our website.
										<br><br>
										<span style="color: red;">Note:</span> We will not post your full name. Only your first initial and last name or only your initials. You can tell us which you prefer.
										
				                        
				                        <br><br><hr><br>
				                        Below is a sample of how your testimonial and signature will be displayed:<br><br><br>
				                        
				                        <div class="col-lg-12">
						            		<span class="lead">
						            			Testimonial
						
												<blockquote style="font-style: italic;">
																		
												Using SoftMouse makes it much easier for lab members to assess which cages need to be kept for experimentation. No more frustration with trying to read notes on spreadsheets!<br><br>
												
												 
												
												<span class="pull-right">H. Mouse <br>or<br> H.M.</span>
												</blockquote>
												
												
						            		</span>
						       		</div>
				                        
				                        </div>
							</div>
							<div class="col-lg-5" align="left" style="margin-left: 30px;">
									<div class="largefont">
									
										
										<form name="TestimonialEditForm" id="testimonial-form1" method="post" action="/smdb/testimonialedit.do">
									
										<div class="col-lg-12">
											<h2>Write your Testimonial</h2><br>
											 <div class=" largefont redfont" id="msg4"></div>
										</div>
										<div class="col-lg-12">
										  <fieldset>
													<textarea name="note3" style="height: 30em !important; background: #F4F3E4 !important; font-size: 18px !important; padding-top: 20px !important;" class="input-lg form-control">Please write your Testimonial here!</textarea>					
										 </fieldset>
										</div>
										<div class="col-lg-11"><br>
											<label id="process2" onclick="javascript:onSubmitTestimonial('testimonial');" class="button large green bold">&nbsp;&nbsp;&nbsp;&nbsp;<b style="font-size: 26px !important;">Submit</b>&nbsp;&nbsp;&nbsp;&nbsp;</label>
											<br><br>
										</div>
										
											<input type="hidden" name="url" value="">
											<input type="hidden" name="browser" value="">
											<input type="hidden" name="supportType" value="">
											<input type="hidden" name="note1" value="">
											<input type="hidden" name="note2" value="">
											<input type="hidden" name="note3" value="">
										</form>
									</div>
							</div>
		                        

		
			</div>
			
			<div class="row center">
				
				<img src="images/Share-the-Love-0004.png" class="img-responsive" style="display: block; margin-bottom: 40px !important; margin-top: 40px !important;  text-align: center;">
			</div>
		</div>
		<div class="col-lg-12 col-md-12 col-xs-12">
			<span class="pull-right">
				<button class="button small red bold" id="cancel1" name="cancel1"  value="true" data-target="#">Cancel</button>
			</span>
		</div>
		<br/>
		
		</div>
		</div>
    </div>
  </div>
 </div>
  
  


<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"d437ceb2cc704cb4a227170913f1487e","server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>